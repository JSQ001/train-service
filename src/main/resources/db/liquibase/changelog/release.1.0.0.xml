<?xml version="1.0" encoding="utf-8"?>
<!--
  ~ Copyright (c) 2017. Shanghai Zhenhui Information Technology Co,. ltd.
  ~ All rights are reserved.
  -->
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <property name="now" value="now()" dbms="mysql,h2"/>
    <property name="now" value="sysdate" dbms="oracle"/>
    <property name="autoIncrement" value="true" dbms="mysql,h2,postgresql,oracle"/>
    <property name="amount" value="decimal(20,2)"/>

    <changeSet id="201708141448001" author="kai.zhang">
        <createTable tableName="bgt_organization" remarks="预算组织定义表">
            <column name="id" type="bigint" remarks="预算组织ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_org_id"/>
            </column>
            <column name="organization_code" type="varchar(45)" remarks="预算组织代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_unq_bgt_org_code"/>
            </column>
            <column name="organization_name" type="varchar(255)" remarks="预算组织描述">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_unq_bgt_org_name"></constraints>
            </column>
            <column name="tenant_id" type="bigint" remarks="租户id"/>
            <column name="set_of_books_id" type="bigint" remarks="账套id">
                <constraints nullable="false"></constraints>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <createIndex tableName="bgt_organization" indexName="idx_bgt_org_set_of_books">
            <column name="set_of_books_id"></column>
        </createIndex>
    </changeSet>
    <changeSet id="201708151428001" author="zhiyu.liu">
        <createTable tableName="bgt_scenario" remarks="预算场景表">
            <column name="id" type="bigint" remarks="预算场景id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_scenarioe_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="scenario_name" type="varchar(50)" remarks="场景名称">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_scenario_name"/>
            </column>
            <column name="scenario_code" type="varchar(200)" remarks="场景代码">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="varchar(2000)" remarks="描述">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="bigint" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708231419002" author="dong.liu">
        <createTable tableName="bgt_version" remarks="预算版本基表">
            <column name="id" type="bigint" remarks="表id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_version_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="version_code" type="varchar(50)" remarks="版本代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_unq_bgt_version_code"/>
            </column>
            <column name="version_name" type="varchar(200)" remarks="版本名称">
                <constraints nullable="false"/>
            </column>
            <column name="version_date" type="timestamp" remarks="版本日期">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="varchar(2000)" remarks="描述">
                <constraints nullable="true"/>
            </column>
            <column name="status" type="varchar(30)" remarks="状态">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="bgt_version_i18n" remarks="预算版本多语言表">
            <column name="id" type="bigint">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_version_id_lang"/>
            </column>
            <column name="lang" type="varchar(64)" remarks="版本名称">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_version_id_lang"/>
            </column>
            <column name="version_name" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint"/>
        </createTable>

        <createTable tableName="bgt_control_strategy" remarks="预算控制策略表">
            <column name="id" type="bigint" remarks="表id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_con_str_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="control_strategy_code" type="varchar(50)" remarks="控制策略代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_unq_bgt_con_str_code"/>
            </column>
            <column name="control_strategy_name" type="varchar(200)" remarks="控制策略名称">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="bgt_control_strategy_i18n" remarks="预算控制策略多语言表">
            <column name="id" type="bigint">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_con_str_id_lang"/>
            </column>
            <column name="lang" type="varchar(64)">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_con_str_id_lang"/>
            </column>
            <column name="control_strategy_name" type="varchar(200)" remarks="预算控制策略名称">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint"/>
        </createTable>

        <createTable tableName="bgt_control_strategy_detail" remarks="预算控制策略明细表">
            <column name="id" type="bigint" remarks="表id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_con_str_dtl_id"/>
            </column>
            <column name="control_strategy_id" type="bigint" remarks="控制策略ID">
                <constraints nullable="false"/>
            </column>
            <column name="detail_sequence" type="bigint" remarks="序号">
                <constraints nullable="false"/>
            </column>
            <column name="detail_code" type="varchar(50)" remarks="策略明细代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_unq_bgt_con_str_dtl_code"/>
            </column>
            <column name="detail_name" type="varchar(200)" remarks="策略明细名称">
                <constraints nullable="false"/>
            </column>
            <column name="control_method" type="varchar(50)" remarks="控制方法">
                <constraints nullable="false"/>
            </column>
            <column name="message_code" type="varchar(200)" remarks="消息代码">
                <constraints nullable="false"/>
            </column>
            <column name="exp_wf_event" type="varchar(50)" remarks="事件" />
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708151800001" author="wenzhou.tang">
        <createTable tableName="bgt_structure" remarks="预算表">
            <column name="id" type="bigint" remarks="预算表ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_budget_structure_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"/>
            </column>
            <column name="structure_code" type="varchar(50)" remarks="预算表代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_uq_structure_code"/>
            </column>
            <column name="structure_name" type="varchar(200)" remarks="预算表名称">
                <constraints nullable="false"/>
            </column>
            <column name="period_set_code" type="varchar(30)" remarks="预算期间"/>
            <column name="period_strategy" type="varchar(30)" remarks="编制期段">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="varchar(2000)" remarks="描述">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708151428002" author="baochao.chen">
        <createTable tableName="bgt_item_type">
            <column name="id" type="bigint" autoIncrement="true" remarks="预算项目类型id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_item_type_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="item_type_code" type="varchar(50)" remarks="预算项目类型代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_uq_item_type_code"/>
            </column>
            <column name="description" type="varchar(30)" remarks="描述">
            </column>
            <column name="item_type_name" type="varchar(200)" remarks="名称">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708211552001" author="zhiyu.liu">
        <createTable tableName="bgt_item" remarks="预算项目定义表">
            <column name="id" type="bigint" remarks="预算项目id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_item_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="item_type_id" type="bigint" remarks="预算项目类型id">
                <constraints nullable="false"/>
            </column>
            <column name="item_code" type="varchar(50)" remarks="预算项目代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_uq_item_code"/>
            </column>
            <column name="item_name" type="varchar(100)" remarks="预算项目名称">
                <constraints nullable="false"/>
            </column>
            <column name="variation_attribute" type="varchar(100)" remarks="变动属性">
            </column>
            <column name="description" type="varchar(2000)" remarks="描述">
            </column>
            <column name="summary_flag" type="boolean" remarks="汇总标志">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708211947001" author="zhiyu.liu">
        <createTable tableName="bgt_item_assign_company" remarks="预算项目公司分配表">
            <column name="id" type="bigint" remarks="预算项目分配id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_item_assign_company_id"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司id">
                <constraints nullable="false"/>
            </column>
            <column name="item_id	" type="varchar(50)" remarks="预算项目id">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!-- 预算层次定义表 -->
    <changeSet id="201708211454001" author="xiaoting.pan">
        <createTable tableName="bgt_item_hierarchy" remarks="预算层次定义表">
            <column name="id" type="bigint" remarks="预算层次定义ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_item_hie_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="parent_item_id" type="bigint" remarks="预算项目父id">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目子id">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户id">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_item_hierarchy" columnNames="parent_item_id,item_id"
                             constraintName="bgt_budget_item_hierarchy_U1"></addUniqueConstraint>
    </changeSet>
    <changeSet id="201708211410001" author="kai.zhang">
        <createTable tableName="bgt_control_rule" remarks="预算控制规则定义">
            <column name="organization_id" type="bigint" remarks="预算组织ID"></column>
            <column name="id" type="bigint" remarks="预算控制规则ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_control_rule_id"/>
            </column>
            <column name="control_rule_code" type="varchar(50)" remarks="预算控制规则代码">
                <constraints nullable="false"/>
            </column>
            <column name="control_rule_name" type="varchar(200)" remarks="预算控制规则名称">
                <constraints nullable="false"/>
            </column>
            <column name="priority" type="int" remarks="优先级">
                <constraints nullable="false"/>
            </column>
            <column name="strategy_group_id" type="bigint" remarks="预算控制策略ID">
                <constraints nullable="false"/>
            </column>
            <column name="start_date" type="timestamp" remarks="有效日期从"/>
            <column name="end_date" type="timestamp" remarks="有效日期至"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createIndex tableName="bgt_control_rule" indexName="idx_bgt_con_rule_date">
            <column name="start_date"></column>
            <column name="end_date"></column>
        </createIndex>

        <createTable tableName="bgt_control_rule_detail" remarks="预算控制规则明细">
            <column name="control_rule_id" type="bigint" remarks="预算控制规则ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="id" type="bigint" remarks="预算控制规则明细ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_con_rule_detail_id"/>
            </column>
            <column name="rule_parameter_type" type="varchar(30)" remarks="规则参数类型">
                <constraints nullable="false"></constraints>
            </column>
            <column name="rule_parameter" type="varchar(30)" remarks="规则参数">
                <constraints nullable="false"></constraints>
            </column>
            <column name="filtrate_method" type="varchar(30)" remarks="取值方式">
                <constraints nullable="false"></constraints>
            </column>
            <column name="summary_or_detail" type="varchar(30)" remarks="取值范围">
                <constraints nullable="false"></constraints>
            </column>
            <column name="parameter_lower_limit" type="varchar(100)" remarks="下限值"/>
            <column name="parameter_upper_limit" type="varchar(100)" remarks="上限制"/>
            <column name="user_exit_procedure" type="varchar(100)" remarks="用户出口程序"/>
            <column name="invalid_date" type="timestamp" remarks="失效日期"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708211455001" author="xue.han">
        <createTable tableName="bgt_journal_type" remarks="预算日记账类型定义">
            <column name="id" type="bigint" remarks="预算日记账类型ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_journal_type_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"/>
            </column>
            <column name="journal_type_code" type="varchar(50)" remarks="预算日记账类型代码">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_unq_journal_type_code"/>
            </column>
            <column name="journal_type_name" type="varchar(200)" remarks="预算日记账类型名称">
                <constraints nullable="false"/>
            </column>
            <column name="business_type" type="varchar(30)" remarks="预算业务类型"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="201708221111001" author="xue.han">
        <createTable tableName="bgt_journal_t_ass_str" remarks="预算日记账类型关联的预算表">
            <column name="id" type="bigint" remarks="主键ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_journal_t_ass_str_id"/>
            </column>
            <column name="journal_type_id" type="bigint" remarks="预算日记帐类型ID">
                <constraints nullable="false"/>
            </column>
            <column name="structure_id" type="bigint" remarks="预算表ID">
                <constraints nullable="false"/>
            </column>
            <column name="is_default" type="boolean" remarks="默认标志"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="bgt_journal_t_ass_item" remarks="预算日记账类型关联的预算项目表">
            <column name="id" type="bigint" remarks="主键ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_journal_t_ass_item_id"/>
            </column>
            <column name="journal_type_id" type="bigint" remarks="预算日记帐类型ID">
                <constraints nullable="false"/>
            </column>
            <column name="bgt_item_id" type="bigint" remarks="预算项目ID">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

    </changeSet>


    <changeSet id="201708201301001" author="liang.liu">
        <createTable tableName="bgt_journal_header" remarks="预算日记账头表">
            <column name="id" type="bigint" remarks="预算日记账头ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_journal_headers_id"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="operation_unit_id" type="bigint" remarks="经营单位ID"/>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"/>
            </column>
            <column name="structure_id" type="bigint" remarks="预算表ID"/>
            <column name="journal_code" type="VARCHAR(50)" remarks="日记账编号">
                <constraints nullable="false"/>
            </column>
            <column name="period_year" type="bigint" remarks="年度"/>
            <column name="period_quarter" type="bigint" remarks="季度"/>
            <column name="period_name" type="varchar(30)" remarks="期间"/>
            <column name="period_number" type="int" remarks="预算期间数"/>
            <column name="DESCRIPTION" type="varchar(2000)" remarks="头描述"/>
            <column name="scenario_id" type="bigint" remarks="场景ID">
                <constraints nullable="false"/>
            </column>
            <column name="version_id" type="bigint" remarks="版本ID">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="varchar(30)" remarks="状态">
                <constraints nullable="false"/>
            </column>
            <column name="reversed_flag" type="varchar(1)" remarks="反冲标志"/>
            <column name="source_budget_header_id" type="bigint" remarks="来源日记账头ID"/>
            <column name="source_type" type="varchar(30)" remarks="来源类型"/>
            <column name="journal_type_id" type="bigint" remarks="预算日记账类型ID">
                <constraints nullable="false"/>
            </column>
            <column name="employee_id" type="bigint" remarks="员工ID"/>
            <column name="position_id" type="bigint" remarks="岗位ID"/>
            <column name="unit_id" type="bigint" remarks="部门ID"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="201708201301002" author="liang.liu">
        <createTable tableName="bgt_journal_line" remarks="预算日记账行表">
            <column name="id" type="bigint" remarks="预算日记账行ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_journal_lines_id"/>
            </column>
            <column name="journal_header_id" type="bigint" remarks="预算日记账头ID">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目ID">
                <constraints nullable="false"/>
            </column>
            <column name="currency" type="varchar(30)" remarks="币种"/>
            <column name="period_year" type="int" remarks="年度"/>
            <column name="period_quarter" type="int" remarks="季度"/>
            <column name="period_name" type="varchar(30)" remarks="期间"/>
            <column name="rate_type" type="varchar(30)" remarks="汇率类型"/>
            <column name="rate_quotation" type="varchar(30)" remarks="标价方法"/>
            <column name="rate" type="double" remarks="汇率"/>
            <column name="amount" type="double" remarks="金额"/>
            <column name="functional_amount" type="double" remarks="本币金额"/>
            <column name="quantity" type="bigint" remarks="数量"/>
            <column name="unit" type="varchar(30)" remarks="单位"/>
            <column name="company_id" type="bigint" remarks="公司ID"/>
            <column name="operation_unit_id" type="bigint" remarks="经营单位ID"/>
            <column name="unit_id" type="bigint" remarks="部门ID"/>
            <column name="position_id" type="bigint" remarks="岗位ID"/>
            <column name="employee_id" type="bigint" remarks="员工ID"/>
            <column name="remark" type="varchar(2000)" remarks="行备注"/>
            <column name="dimension1_id" type="bigint" remarks="维度1"/>
            <column name="dimension2_id" type="bigint" remarks="维度2"/>
            <column name="dimension3_id" type="bigint" remarks="维度3"/>
            <column name="dimension4_id" type="bigint" remarks="维度4"/>
            <column name="dimension5_id" type="bigint" remarks="维度5"/>
            <column name="dimension6_id" type="bigint" remarks="维度6"/>
            <column name="dimension7_id" type="bigint" remarks="维度7"/>
            <column name="dimension8_id" type="bigint" remarks="维度8"/>
            <column name="dimension9_id" type="bigint" remarks="维度9"/>
            <column name="dimension10_id" type="bigint" remarks="维度10"/>
            <column name="dimension11_id" type="bigint" remarks="维度11"/>
            <column name="dimension12_id" type="bigint" remarks="维度12"/>
            <column name="dimension13_id" type="bigint" remarks="维度13"/>
            <column name="dimension14_id" type="bigint" remarks="维度14"/>
            <column name="dimension15_id" type="bigint" remarks="维度15"/>
            <column name="dimension16_id" type="bigint" remarks="维度16"/>
            <column name="dimension17_id" type="bigint" remarks="维度17"/>
            <column name="dimension18_id" type="bigint" remarks="维度18"/>
            <column name="dimension19_id" type="bigint" remarks="维度19"/>
            <column name="dimension20_id" type="bigint" remarks="维度20"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201708281123001" author="liang.liu">
        <createTable tableName="bgt_journal_balance" remarks="预算余额表">
            <column name="id" type="bigint" remarks="预算余额ID">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="book_id" type="bigint" remarks="帐套id">
                <constraints nullable="false"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"/>
            </column>
            <column name="structure_id" type="bigint" remarks="预算表ID"/>
            <column name="scenario_id" type="bigint" remarks="场景ID">
                <constraints nullable="false"/>
            </column>
            <column name="version_id" type="bigint" remarks="版本id">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目id">
                <constraints nullable="false"/>
            </column>
            <column name="period_year" type="int" remarks="年度"/>
            <column name="period_quarter" type="int" remarks="季度"/>
            <column name="period_name" type="varchar(30)" remarks="期间"/>
            <column name="currency" type="varchar(30)" remarks="币种"/>
            <column name="period_amount" type="double" remarks="期间金额"/>
            <column name="period_functional_amount" type="double" remarks="本位币期间金额"/>
            <column name="period_quantity" type="int" remarks="期间数量"/>
            <column name="quarter_amount" type="double" remarks="季度金额"/>
            <column name="quarter_functional_amount" type="double" remarks="本位币季度金额"/>
            <column name="quarter_quantity" type="int" remarks="季度数量"/>
            <column name="year_amount" type="double" remarks="年度金额"/>
            <column name="year_functional_amount" type="double" remarks="本位币年度金额"/>
            <column name="year_quantity" type="int" remarks="年度数量"/>
            <column name="unit" type="varchar(30)" remarks="单位"/>
            <column name="company_id" type="bigint" remarks="公司id">
                <constraints nullable="false"/>
            </column>
            <column name="operation_unit_id" type="bigint" remarks="经营单位ID"/>
            <column name="unit_id" type="bigint" remarks="部门id"/>
            <column name="unit_group_id" type="bigint" remarks="部门组id"/>
            <column name="position_id" type="bigint" remarks="岗位id"/>
            <column name="position_group_id" type="bigint" remarks="岗位组id"/>
            <column name="employee_id" type="bigint" remarks="员工id"/>
            <column name="employee_group_id" type="bigint" remarks="员工组id"/>
            <column name="period_number" type="int" remarks="预算期间数">
                <constraints nullable="false"/>
            </column>
            <column name="remark" type="varchar(2000)" remarks="行备注"/>
            <column name="dimension1_id" type="bigint" remarks="维度1"/>
            <column name="dimension2_id" type="bigint" remarks="维度2"/>
            <column name="dimension3_id" type="bigint" remarks="维度3"/>
            <column name="dimension4_id" type="bigint" remarks="维度4"/>
            <column name="dimension5_id" type="bigint" remarks="维度5"/>
            <column name="dimension6_id" type="bigint" remarks="维度6"/>
            <column name="dimension7_id" type="bigint" remarks="维度7"/>
            <column name="dimension8_id" type="bigint" remarks="维度8"/>
            <column name="dimension9_id" type="bigint" remarks="维度9"/>
            <column name="dimension10_id" type="bigint" remarks="维度10"/>
            <column name="dimension11_id" type="bigint" remarks="维度11"/>
            <column name="dimension12_id" type="bigint" remarks="维度12"/>
            <column name="dimension13_id" type="bigint" remarks="维度13"/>
            <column name="dimension14_id" type="bigint" remarks="维度14"/>
            <column name="dimension15_id" type="bigint" remarks="维度15"/>
            <column name="dimension16_id" type="bigint" remarks="维度16"/>
            <column name="dimension17_id" type="bigint" remarks="维度17"/>
            <column name="dimension18_id" type="bigint" remarks="维度18"/>
            <column name="dimension19_id" type="bigint" remarks="维度19"/>
            <column name="dimension20_id" type="bigint" remarks="维度20"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201710090951001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_header" columnName="company_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_header" columnName="unit_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_header" columnName="employee_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_line" columnName="company_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_line" columnName="unit_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_line" columnName="employee_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="company_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="unit_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="employee_id" newDataType="varchar(36)"/>
    </changeSet>
    <changeSet id="201709201054001" author="liang.liu">
        <dropColumn tableName="bgt_journal_balance" columnName="unit_group_id"/>
        <dropColumn tableName="bgt_journal_balance" columnName="position_group_id"/>
        <dropColumn tableName="bgt_journal_balance" columnName="employee_group_id"/>
        <dropColumn tableName="bgt_journal_balance" columnName="operation_unit_id"/>
    </changeSet>
    <changeSet id="201708231527001" author="kai.zhang">
        <createIndex tableName="bgt_control_rule" unique="true" indexName="idx_unq_bgt_con_rule_code">
            <column name="organization_id"/>
            <column name="control_rule_code"/>
        </createIndex>
        <createIndex tableName="bgt_control_rule" unique="true" indexName="idx_unq_bgt_con_rule_priority">
            <column name="organization_id"/>
            <column name="priority"/>
        </createIndex>
    </changeSet>
    <changeSet id="201708221920001" author="wenzhou.tang">
        <createTable tableName="bgt_journal_t_ass_company" remarks="预算日记账类型分配公司">
            <column name="id" type="bigint" remarks="ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_jour_assign_company_type"/>
            </column>
            <column name="journal_type_id" type="bigint" remarks="预算日记账类型ID">
                <constraints nullable="false"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司ID">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_journal_t_ass_company" columnNames="journal_type_id,company_id" constraintName="bgt_journal_t_ass_company_n1"/>
    </changeSet>
    <changeSet id="201708221920002" author="wenzhou.tang">
        <createTable tableName="bgt_journal_t_ass_user_group" remarks="预算日记账类型分配员工组">
            <column name="id" type="bigint" remarks="ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_jour_t_ass_user_group"/>
            </column>
            <column name="journal_type_id" type="bigint" remarks="预算日记账类型ID">
                <constraints nullable="false"/>
            </column>
            <column name="user_group_id" type="bigint" remarks="员工组ID">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_journal_t_ass_user_group"
                             columnNames="journal_type_id,user_group_id"/>
    </changeSet>

    <changeSet id="201708301542001" author="xue.han">
        <createTable tableName="bgt_structure_assign_company" remarks="预算表分配公司表">
            <column name="id" type="bigint" remarks="主键ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_stru_ass_company_id"/>
            </column>
            <column name="structure_id" type="bigint" remarks="预算表ID">
                <constraints nullable="false"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司ID">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_structure_assign_company" columnNames="structure_id,company_id"/>
    </changeSet>

    <changeSet id="201709011054001" author="xue.han">
        <createTable tableName="bgt_structure_assign_layout" remarks="预算表分配维度表">
            <column name="id" type="bigint" remarks="主键ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_structure_ass_layout_id"/>
            </column>
            <column name="structure_id" type="bigint" remarks="预算表ID">
                <constraints nullable="false"/>
            </column>
            <column name="dimension_id" type="bigint" remarks="维度ID">
                <constraints nullable="false"/>
            </column>
            <column name="layout_position" type="varchar(30)" remarks="布局位置">
                <constraints nullable="false"/>
            </column>
            <column name="layout_priority" type="bigint" remarks="优先级">
                <constraints nullable="false"/>
            </column>
            <column name="default_dim_value_id" type="bigint" remarks="默认维值ID"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_structure_assign_layout" columnNames="structure_id,dimension_id"/>
        <addUniqueConstraint tableName="bgt_structure_assign_layout"
                             columnNames="structure_id,layout_position,layout_priority"/>
    </changeSet>

    <changeSet id="201708311706001" author="dong.liu">
        <createTable tableName="bgt_control_strategy_mp_cond" remarks="预算控制策略决定机制表">
            <column name="id" type="bigint" remarks="表id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_ctrl_stra_mp_cond_id"/>
            </column>
            <column name="control_strategy_id" type="bigint" remarks="策略明细id">
                <constraints nullable="false"/>
            </column>
            <column name="range" type="varchar2(30)" remarks="范围">
                <constraints nullable="false"/>
            </column>
            <column name="object" type="varchar2(30)" remarks="对象">
                <constraints nullable="false"/>
            </column>
            <column name="period_strategy" type="varchar2(30)" remarks="控制期段">
                <constraints nullable="false"/>
            </column>
            <column name="manner" type="varchar2(30)" remarks="方式">
                <constraints nullable="false"/>
            </column>
            <column name="operator" type="varchar2(30)" remarks="运算符">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="varchar2(30)" remarks="值">
                <constraints nullable="false"/>
            </column>
            <column name="user_exit_procedure" type="varchar(50)" remarks="用户出口程序"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="201709011530001" author="dong.liu">
        <dropColumn tableName="bgt_control_strategy_mp_cond" columnName="user_exit_procedure"/>
    </changeSet>

    <changeSet id="201709041454001" author="dong.liu">
        <modifyDataType tableName="bgt_control_strategy_mp_cond" columnName="range" newDataType="varchar(30)"/>
        <modifyDataType tableName="bgt_control_strategy_mp_cond" columnName="object" newDataType="varchar(30)"/>
        <modifyDataType tableName="bgt_control_strategy_mp_cond" columnName="period_strategy"
                        newDataType="varchar(30)"/>
        <modifyDataType tableName="bgt_control_strategy_mp_cond" columnName="manner" newDataType="varchar(30)"/>
        <modifyDataType tableName="bgt_control_strategy_mp_cond" columnName="operator" newDataType="varchar(30)"/>
        <modifyDataType tableName="bgt_control_strategy_mp_cond" columnName="value" newDataType="varchar(30)"/>
    </changeSet>

    <changeSet id="201709041107002" author="dong.liu">
        <createTable tableName="bgt_version_assign_company" remarks="预算版本分配公司">
            <column name="id" type="bigint" remarks="表id">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_version_as_company_id"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司id">
                <constraints nullable="false"/>
            </column>
            <column name="version_id" type="bigint" remarks="预算版本id">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="varchar(30)" remarks="状态">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_version_assign_company" constraintName="idx_unq_bgt_version_as_com"
                             columnNames="company_id,version_id"/>
    </changeSet>
    <changeSet id="201709111058001" author="dong.liu">
        <dropUniqueConstraint tableName="bgt_version" constraintName="idx_unq_bgt_version_code"/>
        <addUniqueConstraint tableName="bgt_version" columnNames="organization_id,version_code"
                             constraintName="idx_unq_bgt_version_code"/>
    </changeSet>
    <changeSet id="201709111553001" author="dong.liu">
        <dropColumn tableName="bgt_control_strategy_mp_cond" columnName="control_strategy_id"/>
        <addColumn tableName="bgt_control_strategy_mp_cond">
            <column name="control_strategy_detail_id" type="bigint" remarks="策略明细id">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="201709151627001" author="dong.liu">
        <dropColumn tableName="bgt_version_assign_company" columnName="status"/>
    </changeSet>
    <changeSet id="201709181044001" author="dong.liu">
        <addColumn tableName="bgt_version_assign_company">
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
            <column name="company_name" type="varchar(200)" remarks="公司名称">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="201709171045001" author="xue.han">
        <addUniqueConstraint tableName="bgt_journal_t_ass_str" columnNames="journal_type_id,structure_id"/>
        <addUniqueConstraint tableName="bgt_journal_t_ass_item" columnNames="journal_type_id,bgt_item_id"/>
    </changeSet>
    <changeSet id="201709200920001" author="baochao.chen">
        <createTable tableName="bgt_groups" remarks="预算项目组">
            <column name="id" type="bigint" remarks="预算项目表ID">
                <constraints nullable="false"
                             primaryKey="true"
                             primaryKeyName="pk_bgt_groups_id"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"/>
            </column>
            <column name="group_code" type="varchar(30)" remarks="预算组织代码">
                <constraints nullable="false"/>
            </column>
            <column name="group_name" type="varchar(30)" remarks="预算组织名称">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="bgt_groups" columnNames="organization_id,group_code"
                             constraintName="index_org_id_group_code"></addUniqueConstraint>
        <createTable tableName="bgt_group_details" remarks="预算项目组明细表">
            <column name="id" type="bigint" remarks="预算项目组明细ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_group_details_id"/>
            </column>
            <column name="group_id" type="bigint" remarks="预算项目组id">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目id">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201709201807001" author="baochao.chen">
        <dropColumn tableName="bgt_item_type" columnName="description"></dropColumn>
    </changeSet>
    <changeSet id="201709191549001" author="zhiyu.liu">
        <addColumn tableName="bgt_scenario">
            <column name="default_flag" type="boolean" remarks="是否默认"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201709201423001" author="kai.zhang">
        <dropUniqueConstraint tableName="bgt_organization" constraintName="idx_unq_bgt_org_code"/>
        <dropUniqueConstraint tableName="bgt_organization" constraintName="idx_unq_bgt_org_name"/>
        <dropIndex tableName="bgt_organization" indexName="idx_bgt_org_set_of_books"/>
        <createIndex tableName="bgt_organization" indexName="idx_unq_bgt_org_code" unique="true">
            <column name="organization_code"></column>
            <column name="set_of_books_id"></column>
        </createIndex>
        <createIndex tableName="bgt_organization" indexName="idx_unq_bgt_org_name" unique="true">
            <column name="organization_name"></column>
            <column name="set_of_books_id"></column>
        </createIndex>
    </changeSet>

    <changeSet id="201709201757001" author="xue.han">
        <dropColumn tableName="bgt_structure" columnName="period_set_code"/>
    </changeSet>

    <changeSet id="2017092111080001" author="zhiyu.liu">
        <dropUniqueConstraint tableName="bgt_scenario" constraintName="idx_scenario_name"></dropUniqueConstraint>
    </changeSet>

    <changeSet id="2017092115230003" author="baochao.chen">
        <renameTable oldTableName="bgt_groups" newTableName="bgt_item_group"></renameTable>
        <renameTable oldTableName="bgt_group_details" newTableName="bgt_item_group_detail"></renameTable>
    </changeSet>

    <changeSet id="2017092115230002" author="baochao.chen">
        <renameColumn tableName="bgt_item_group" oldColumnName="group_code" newColumnName="item_group_code"
                      columnDataType="varchar(30)"></renameColumn>
        <renameColumn tableName="bgt_item_group" oldColumnName="group_name" newColumnName="item_group_name"
                      columnDataType="varchar(30)"></renameColumn>
        <renameColumn tableName="bgt_item_group_detail" oldColumnName="group_id"
                      newColumnName="item_group_id" columnDataType="bigint"></renameColumn>
    </changeSet>
    <changeSet id="2017092216110001" author="zhiyu.liu">
        <dropColumn tableName="bgt_item" columnName="summary_flag"></dropColumn>
    </changeSet>
    <changeSet id="201709221745001" author="dong.liu">
        <dropUniqueConstraint tableName="bgt_control_strategy_detail" constraintName="idx_unq_bgt_con_str_dtl_code"/>
    </changeSet>

    <changeSet id="201708151428003" author="zhiyu.liu">
        <createTable tableName="bgt_scenario_i18n" remarks="预算场景多语言表">
            <column name="id" type="bigint">
            </column>
            <column name="language" type="varchar(20)" remarks="语言">
            </column>
            <column name="scenario_name" type="varchar(200)" remarks="场景名称">
            </column>
        </createTable>
        <addPrimaryKey tableName="bgt_scenario_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>
    <changeSet id="201710101458001" author="zhiyu.liu">
        <dropColumn tableName="bgt_scenario" columnName="version_number"/>
        <addColumn tableName="bgt_scenario">
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201710111519001" author="xue.han">
        <createTable tableName="bgt_journal_type_i18n" remarks="预算日记账类型定义多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="journal_type_name" type="varchar(200)" remarks="预算日记账类型名称"/>
        </createTable>
        <addPrimaryKey tableName="bgt_journal_type_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>


    <changeSet id="201710111535001" author="dong.liu">
        <dropColumn tableName="bgt_version_i18n" columnName="created_date"/>
        <renameColumn tableName="bgt_version_i18n" columnDataType="varchar(64)" oldColumnName="lang"
                      newColumnName="language"/>
        <dropColumn tableName="bgt_version_i18n" columnName="last_updated_by"/>
        <dropColumn tableName="bgt_control_strategy_i18n" columnName="created_date"/>
        <renameColumn tableName="bgt_control_strategy_i18n" columnDataType="varchar(64)" oldColumnName="lang"
                      newColumnName="language"/>
        <dropColumn tableName="bgt_control_strategy_i18n" columnName="last_updated_by"/>
    </changeSet>
    <changeSet id="201710111438001" author="dong.liu">
        <renameTable oldTableName="bgt_control_strategy_detail" newTableName="bgt_control_strategy_dtl"></renameTable>
        <createTable tableName="bgt_control_strategy_dtl_i18n" remarks="预算控制策略明细表">
            <column name="id" type="bigint">
            </column>
            <column name="language" type="varchar(20)" remarks="语言">
            </column>
            <column name="detail_name" type="varchar(200)" remarks="策略明细名称">
            </column>
        </createTable>
        <addPrimaryKey tableName="bgt_control_strategy_dtl_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>
    <changeSet id="201710162002001" author="liang.liu">
        <dropColumn tableName="bgt_journal_balance">
            <column name="position_id" type="bigint" remarks="岗位ID"/>
        </dropColumn>
        <dropColumn tableName="bgt_journal_line">
            <column name="position_id" type="bigint" remarks="岗位ID"/>
        </dropColumn>
        <dropColumn tableName="bgt_journal_header">
            <column name="position_id" type="bigint" remarks="岗位ID"/>
        </dropColumn>
    </changeSet>
    <changeSet id="201710161038001" author="kai.zhang">
        <createTable tableName="bgt_organization_i18n" remarks="预算组织多语言表">
            <column name="id" type="bigint">
            </column>
            <column name="language" type="varchar(20)" remarks="语言">
            </column>
            <column name="organization_name" type="varchar(200)" remarks="预算组织名称">
            </column>
        </createTable>
        <addPrimaryKey tableName="bgt_organization_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>
    <changeSet id="201710181627001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_header" columnName="company_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_header" columnName="unit_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_header" columnName="employee_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_line" columnName="company_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_line" columnName="unit_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_line" columnName="employee_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="company_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="unit_id" newDataType="bigint"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="employee_id" newDataType="bigint"/>
    </changeSet>

    <changeSet id="201710201354001" author="xue.han">
        <createTable tableName="bgt_structure_i18n" remarks="预算表多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="structure_name" type="varchar(200)" remarks="预算表名称"/>
        </createTable>
        <addPrimaryKey tableName="bgt_structure_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>
    <changeSet id="201710241751001" author="baochao.chen">
        <addUniqueConstraint tableName="bgt_item_assign_company" columnNames="company_id,item_id"
                             constraintName="id_unq_item_company"/>
    </changeSet>

    <changeSet id="201710151101001" author="liang.liu">
        <addColumn tableName="bgt_journal_header">
            <column name="file_path" type="varchar(100)" remarks="附件路径"/>
        </addColumn>
    </changeSet>
    <changeSet id="201710241923001" author="xue.han">
        <dropUniqueConstraint tableName="bgt_journal_type" constraintName="idx_unq_journal_type_code"/>
        <addUniqueConstraint tableName="bgt_journal_type" columnNames="organization_id,journal_type_code"
                             constraintName="idx_unq_bgt_journal_type_code"/>
    </changeSet>
    <changeSet id="201710241936001" author="xue.han">
        <dropUniqueConstraint tableName="bgt_structure" constraintName="idx_uq_structure_code"/>
        <addUniqueConstraint tableName="bgt_structure" columnNames="organization_id,structure_code"
                             constraintName="idx_unq_bgt_structure_code"/>
    </changeSet>

    <changeSet id="201710261605001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_header" columnName="file_path" newDataType="varchar(2000)"/>
    </changeSet>
    <changeSet id="201710261920001" author="liang.liu">
        <addColumn tableName="bgt_journal_header">
            <column name="attachment_oid" type="varchar(36)" remarks="附件OID"/>
        </addColumn>
    </changeSet>
    <changeSet id="201710271526001" author="liang.liu">
        <addColumn tableName="bgt_journal_header">
            <column name="applicat_oid" type="varchar(36)" remarks="申请人"/>
            <column name="form_oid" type="varchar(36)" remarks="表单oid"/>
            <column name="doucument_oid" type="varchar(36)" remarks="单据oid"/>
            <column name="doucument_type" type="Bigint" remarks="单据类型(6001)" defaultValue="6001"/>
            <column name="unit_oid" type="varchar(36)" remarks="部门oid"/>
            <column name="emp_oid" type="varchar(36)" remarks="员工oid"/>
        </addColumn>
    </changeSet>
    <changeSet id="201708312026001" author="kai.zhang">
        <createTable tableName="bgt_reserve" remarks="预算保留表">
            <column name="id" type="bigint" remarks="预算保留表行ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_budget_reserves"
                />
            </column>
            <column name="company_id" type="bigint" remarks="公司ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="period_name" type="varchar(30)" remarks="期间">
                <constraints nullable="false"></constraints>
            </column>
            <column name="period_year" type="int" remarks="期间年度">
                <constraints nullable="false"></constraints>
            </column>
            <column name="period_quarter" type="int" remarks="期间季度">
                <constraints nullable="false"></constraints>
            </column>
            <column name="period_number" type="int" remarks="期间数">
                <constraints nullable="false"></constraints>
            </column>
            <column name="release_id" type="bigint" remarks="预算释放ID"></column>
            <column name="business_type" type="varchar(30)" remarks="EXP_REQUISITION:费用申请单,EXP_REPORT:费用报销单">
                <constraints nullable="false"></constraints>
            </column>
            <column name="reserve_flag" type="varchar(2)" remarks="R:申请单冻结,U:报销单占用">
                <constraints nullable="false"></constraints>
            </column>
            <column name="status" type="varchar(30)" remarks="状态">
                <constraints nullable="false"></constraints>
            </column>
            <column name="manual_flag" type="varchar(2)" remarks="手工标志">
                <constraints nullable="false"></constraints>
            </column>
            <column name="document_oid" type="varchar(40)" remarks="费用申请单/报销单头ID"></column>
            <column name="document_line_oid" type="varchar(40)" remarks="费用申请单/报销单分配行ID"></column>
            <column name="currency" type="varchar(30)" remarks="币种"></column>
            <column name="item_id" type="bigint" remarks="预算项目ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="exchange_rate" type="double" remarks="汇率"></column>
            <column name="amount" type="double" remarks="金额"></column>
            <column name="functional_amount" type="double" remarks="本位币金额"></column>
            <column name="quantity" type="int" remarks="数量"></column>
            <column name="uom" type="varchar(30)" remarks="单位"></column>
            <column name="unit_id" type="bigint" remarks="部门ID"></column>
            <column name="employee_id" type="varchar(200)" remarks="员工ID"></column>
            <column name="dimension1_id" type="bigint" remarks="维度1"></column>
            <column name="dimension2_id" type="bigint" remarks="维度2"></column>
            <column name="dimension3_id" type="bigint" remarks="维度3"></column>
            <column name="dimension4_id" type="bigint" remarks="维度4"></column>
            <column name="dimension5_id" type="bigint" remarks="维度5"></column>
            <column name="dimension6_id" type="bigint" remarks="维度6"></column>
            <column name="dimension7_id" type="bigint" remarks="维度7"></column>
            <column name="dimension8_id" type="bigint" remarks="维度8"></column>
            <column name="dimension9_id" type="bigint" remarks="维度9"></column>
            <column name="dimension10_id" type="bigint" remarks="维度10"></column>
            <column name="dimension11_id" type="bigint" remarks="维度11"></column>
            <column name="dimension12_id" type="bigint" remarks="维度12"></column>
            <column name="dimension13_id" type="bigint" remarks="维度13"></column>
            <column name="dimension14_id" type="bigint" remarks="维度14"></column>
            <column name="dimension15_id" type="bigint" remarks="维度15"></column>
            <column name="dimension16_id" type="bigint" remarks="维度16"></column>
            <column name="dimension17_id" type="bigint" remarks="维度17"></column>
            <column name="dimension18_id" type="bigint" remarks="维度18"></column>
            <column name="dimension19_id" type="bigint" remarks="维度19"></column>
            <column name="dimension20_id" type="bigint" remarks="维度20"></column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201709122139001" author="kai.zhang">
        <createTable tableName="bgt_check_log" remarks="预算检查日志表">
            <column name="id" type="bigint" remarks="预算检查日志表ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_check_log"
                />
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="company_id" type="bigint" remarks="公司ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="document_type" type="varchar(30)" remarks="单据类型">
                <constraints nullable="false"></constraints>
            </column>
            <column name="document_oid" type="varchar(40)" remarks="单据头ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="document_line_oid" type="varchar(40)" remarks="单据行ID"></column>
            <column name="document_dist_oid" type="varchar(40)" remarks="单据分配行ID"></column>
            <column name="budget_reserve_line_id" type="bigint" remarks="预算保留表行ID"/>
            <column name="period_name" type="varchar(30)" remarks="期间">
                <constraints nullable="false"></constraints>
            </column>
            <column name="control_strategy_id" type="bigint" remarks="预算控制策略ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="budget_structure_id" type="bigint" remarks="预算表ID"></column>
            <column name="budget_control_rule_id" type="bigint" remarks="控制规则ID"></column>
            <column name="scenario_id" type="bigint" remarks="预算场景ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="version_id" type="bigint" remarks="版本ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目ID"></column>
            <column name="functional_amount" type="double" remarks="本位币金额"></column>
            <column name="bgt_budget_function_amount" type="double" remarks="预算余额"></column>
            <column name="bgt_reverse_function_amount" type="double" remarks="预算保留总金额"></column>
            <column name="bgt_reverse_function_amount_r" type="double" remarks="预算保留额"></column>
            <column name="bgt_reverse_function_amount_u" type="double" remarks="预算占用额"></column>
            <column name="quantity" type="int" remarks="数量"></column>
            <column name="available_amount" type="double" remarks="可用金额"></column>
            <column name="available_quantity" type="double" remarks="可用数量"></column>
            <column name="budget_formula" type="varchar(2000)" remarks="控制策略校验语句"></column>
            <column name="unit_id" type="bigint" remarks="部门ID"></column>
            <column name="unit_group_id" type="bigint" remarks="部门组ID"></column>
            <column name="employee_id" type="varchar(200)" remarks="员工ID"></column>
            <column name="employee_group_id" type="bigint" remarks="员工组ID"></column>
            <column name="dimension1_id" type="bigint" remarks="维度1"></column>
            <column name="dimension2_id" type="bigint" remarks="维度2"></column>
            <column name="dimension3_id" type="bigint" remarks="维度3"></column>
            <column name="dimension4_id" type="bigint" remarks="维度4"></column>
            <column name="dimension5_id" type="bigint" remarks="维度5"></column>
            <column name="dimension6_id" type="bigint" remarks="维度6"></column>
            <column name="dimension7_id" type="bigint" remarks="维度7"></column>
            <column name="dimension8_id" type="bigint" remarks="维度8"></column>
            <column name="dimension9_id" type="bigint" remarks="维度9"></column>
            <column name="dimension10_id" type="bigint" remarks="维度10"></column>
            <column name="dimension11_id" type="bigint" remarks="维度11"></column>
            <column name="dimension12_id" type="bigint" remarks="维度12"></column>
            <column name="dimension13_id" type="bigint" remarks="维度13"></column>
            <column name="dimension14_id" type="bigint" remarks="维度14"></column>
            <column name="dimension15_id" type="bigint" remarks="维度15"></column>
            <column name="dimension16_id" type="bigint" remarks="维度16"></column>
            <column name="dimension17_id" type="bigint" remarks="维度17"></column>
            <column name="dimension18_id" type="bigint" remarks="维度18"></column>
            <column name="dimension19_id" type="bigint" remarks="维度19"></column>
            <column name="dimension20_id" type="bigint" remarks="维度20"></column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201710301631001" author="dong.liu">
        <dropColumn tableName="bgt_version_assign_company" columnName="company_code"/>
        <dropColumn tableName="bgt_version_assign_company" columnName="company_name"/>
    </changeSet>
    <changeSet id="201711011156001" author="liang.liu">
        <dropColumn tableName="bgt_journal_header" columnName="doucument_oid"/>
        <dropColumn tableName="bgt_journal_header" columnName="doucument_type"/>
        <addColumn tableName="bgt_journal_header">
            <column name="document_oid" type="varchar(36)" remarks="单据oid"/>
            <column name="document_type" type="int" remarks="单据类型(6001)" defaultValue="6001"/>
        </addColumn>
    </changeSet>

    <changeSet id="201711011641001" author="baochao.chen">
        <createTable tableName="bgt_item_type_i18n" remarks="预算项目类型多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="item_type_name" type="varchar(200)" remarks="预算项目类型名称"/>
        </createTable>
        <addPrimaryKey tableName="bgt_item_type_i18n" columnNames="id,language"/>
        <createTable tableName="bgt_item_group_i18n" remarks="预算项目组多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="item_group_name" type="varchar(200)" remarks="预算项目组名称"/>
        </createTable>
        <addPrimaryKey tableName="bgt_item_group_i18n" columnNames="id,language"/>
        <createTable tableName="bgt_item_i18n" remarks="预算项目多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="item_name" type="varchar(200)" remarks="预算项目名称"/>
        </createTable>
        <addPrimaryKey tableName="bgt_item_i18n" columnNames="id,language"/>
    </changeSet>

    <changeSet id="201711011553001" author="liang.liu">
        <createTable tableName="bgt_journal_header_i18n" remarks="预算日记账头多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="DESCRIPTION" type="varchar(200)" remarks="头描述"/>
        </createTable>
        <addPrimaryKey tableName="bgt_journal_header_i18n" columnNames="id,language"></addPrimaryKey>

        <createTable tableName="bgt_journal_line_i18n" remarks="预算日记账行多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="remark" type="varchar(200)" remarks="预算日记账行备注"/>
        </createTable>
        <addPrimaryKey tableName="bgt_journal_line_i18n" columnNames="id,language"></addPrimaryKey>

        <createTable tableName="bgt_journal_balance_i18n" remarks="预算余额多语言表">
            <column name="id" type="bigint"/>
            <column name="language" type="varchar(20)" remarks="语言"/>
            <column name="remark" type="varchar(200)" remarks="备注"/>
        </createTable>
        <addPrimaryKey tableName="bgt_journal_balance_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>
    <changeSet id="201711011730001" author="liang.liu">
        <dropTable tableName="bgt_journal_header_i18n"/>
        <dropTable tableName="bgt_journal_line_i18n"/>
        <dropTable tableName="bgt_journal_balance_i18n"/>
    </changeSet>
    <changeSet id="201711031004001" author="liang.liu">
        <createTable tableName="bgt_items_mapping" remarks="预算项目映射表">
            <column name="id" type="bigint" remarks="映射id">
                <constraints primaryKey="true"/>
            </column>
            <column name="budget_organization_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="budget_item_id" type="bigint" remarks="预算项目id">
                <constraints nullable="false"/>
            </column>
            <column name="source_type" type="varchar(50)" remarks="来源类别">
                <constraints nullable="false"/>
            </column>
            <column name="source_item_id" type="bigint" remarks="明细类型id">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201710161038002" author="kai.zhang">
        <createTable tableName="bgt_control_rule_i18n" remarks="预算控制规则多语言表">
            <column name="id" type="bigint">
            </column>
            <column name="language" type="varchar(20)" remarks="语言">
            </column>
            <column name="control_rule_name" type="varchar(200)" remarks="预算控制规则名称">
            </column>
        </createTable>
        <addPrimaryKey tableName="bgt_control_rule_i18n" columnNames="id,language"></addPrimaryKey>
    </changeSet>

    <changeSet id="201711071046001" author="dong.liu">
        <dropUniqueConstraint tableName="bgt_version_assign_company" constraintName="idx_unq_bgt_version_as_com"/>
    </changeSet>
    <changeSet id="201711080931001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_header" columnName="attachment_oid" newDataType="varchar(2000)"/>
    </changeSet>
    <changeSet id="201711081315001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_line" columnName="employee_id" newDataType="varchar(36)"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="employee_id" newDataType="varchar(36)"/>
    </changeSet>
    <changeSet id="201711091745001" author="dong.liu">
        <dropUniqueConstraint tableName="bgt_control_strategy" constraintName="idx_unq_bgt_con_str_code"/>
    </changeSet>
    <changeSet id="201711101423001" author="liang.liu">
        <addUniqueConstraint tableName="bgt_journal_header" columnNames="journal_code,organization_id" constraintName="journal_code"/>
    </changeSet>
    <changeSet id="201711100001" author="baochao.chen">
        <dropUniqueConstraint tableName="bgt_item" constraintName="idx_uq_item_code"/>
        <addUniqueConstraint tableName="bgt_item" columnNames="organization_id,item_code" constraintName="id_unq_org_id_item"/>
    </changeSet>
    <changeSet id="201711091818001" author="kai.zhang">
        <dropIndex tableName="bgt_organization" indexName="idx_unq_bgt_org_code"/>
        <dropIndex tableName="bgt_organization" indexName="idx_unq_bgt_org_name"/>
        <createIndex tableName="bgt_organization" indexName="idx_unq_bgt_org_code" unique="true">
            <column name="organization_code"></column>
            <column name="tenant_id"></column>
        </createIndex>
        <createIndex tableName="bgt_organization" indexName="idx_unq_bgt_org_name" unique="true">
            <column name="organization_name"></column>
            <column name="tenant_id"></column>
        </createIndex>
    </changeSet>
    <changeSet id="201711101646001" author="kai.zhang">
        <addColumn tableName="bgt_control_rule_detail">
            <column name="rule_parameter_oid" type="varchar(50)" remarks="成本中心oid"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201711141433001" author="kai.zhang">
        <dropColumn tableName="bgt_control_rule_detail">
            <column name="summary_or_detail"/>
        </dropColumn>
        <addColumn tableName="bgt_control_rule_detail">
            <column name="summary_or_detail" type="varchar(30)" remarks="取值范围">
            </column>
        </addColumn>
    </changeSet>



    <changeSet id="201711160953001" author="baochao.chen">
        <createTable tableName="bgt_batch_transaction_log">
            <column name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_batch_transaction_log"/>
            </column>
            <column name="operation" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="total_entities" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="success_entities" type="int"/>
            <column name="failure_entities" type="int"/>
            <column name="start_time" type="timestamp">
                <constraints nullable="false"/>
            </column>
            <column name="finish_time" type="timestamp"/>
            <column name="status" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint"/>
            <column name="errors" type="LONGTEXT"/>
            <column name="error_detail" type="LONGTEXT" remarks="导入错误记录详情"/>
            <column name="created_date" type="timestamp" remarks="创建时间"/>
        </createTable>
    </changeSet>


    <changeSet id="201711201549001" author="baochao.chen">
        <addColumn tableName="bgt_batch_transaction_log">
            <column name="transaction_uuid" type="varchar(36)" beforeColumn="operation">
                <constraints nullable="false" unique="true" uniqueConstraintName="idx_transaction_uuid"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="201711161607001" author="kai.zhang">
        <dropColumn tableName="bgt_reserve">
            <column name="document_oid"></column>
            <column name="document_line_oid"></column>
            <column name="employee_id"></column>
        </dropColumn>
        <addColumn tableName="bgt_reserve">
            <column name="employee_id" type="bigint" remarks="员工ID"></column>
            <column name="document_id" type="bigint" remarks="费用申请单/报销单头ID"></column>
            <column name="document_line_id" type="bigint" remarks="费用申请单/报销单分配行ID"></column>
        </addColumn>
        <dropColumn tableName="bgt_check_log">
            <column name="document_oid"></column>
            <column name="document_line_oid"></column>
            <column name="document_dist_oid"></column>
            <column name="employee_id"></column>
        </dropColumn>
        <addColumn tableName="bgt_check_log">
            <column name="employee_id" type="varchar(200)" remarks="员工ID"></column>
            <column name="document_id" type="bigint" remarks="单据头ID">
                <constraints nullable="false"></constraints>
            </column>
            <column name="document_line_id" type="bigint" remarks="单据行ID"></column>
            <column name="document_dist_id" type="bigint" remarks="单据分配行ID"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201711161535001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_balance" columnName="employee_id" newDataType="bigint"/>
    </changeSet>
    <changeSet id="201711171403003" author="dong.liu">
        <dropColumn tableName="bgt_control_strategy_dtl" columnName="message_code"/>
        <addColumn tableName="bgt_control_strategy_dtl">
            <column name="message_code" type="varchar(200)" remarks="消息代码"/>
        </addColumn>
    </changeSet>

	<changeSet id="201711201012001" author="liang.liu">
        <createTable tableName="bgt_attachment">
            <column name="id" type="bigint" remarks="id">
                <constraints primaryKey="true"/>
            </column>
            <column name="attachment_oid" type="varchar(36)" remarks="附件oid">
                <constraints nullable="false"/>
            </column>
            <column name="file_name" type="varchar(100)" remarks="附件名称">
                <constraints nullable="false"/>
            </column>
            <column name="file_url" type="varchar(500)" remarks="附件路径"/>
            <column name="link" type="varchar(500)" remarks="附件链接"/>
            <column name="size" type="bigint" remarks="附件大小"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201711201742001" author="liang.liu">
        <addColumn tableName="bgt_journal_line">
            <column name="dimension1_value_id" type="bigint" remarks="维值1id"/>
            <column name="dimension2_value_id" type="bigint" remarks="维值2id"/>
            <column name="dimension3_value_id" type="bigint" remarks="维值3id"/>
            <column name="dimension4_value_id" type="bigint" remarks="维值4id"/>
            <column name="dimension5_value_id" type="bigint" remarks="维值5id"/>
            <column name="dimension6_value_id" type="bigint" remarks="维值6id"/>
            <column name="dimension7_value_id" type="bigint" remarks="维值7id"/>
            <column name="dimension8_value_id" type="bigint" remarks="维值8id"/>
            <column name="dimension9_value_id" type="bigint" remarks="维值9id"/>
            <column name="dimension10_value_id" type="bigint" remarks="维值10id"/>
            <column name="dimension11_value_id" type="bigint" remarks="维值11id"/>
            <column name="dimension12_value_id" type="bigint" remarks="维值12id"/>
            <column name="dimension13_value_id" type="bigint" remarks="维值13id"/>
            <column name="dimension14_value_id" type="bigint" remarks="维值14id"/>
            <column name="dimension15_value_id" type="bigint" remarks="维值15id"/>
            <column name="dimension16_value_id" type="bigint" remarks="维值16id"/>
            <column name="dimension17_value_id" type="bigint" remarks="维值17id"/>
            <column name="dimension18_value_id" type="bigint" remarks="维值18id"/>
            <column name="dimension19_value_id" type="bigint" remarks="维值19id"/>
            <column name="dimension20_value_id" type="bigint" remarks="维值20id"/>
        </addColumn>
    </changeSet>
    <changeSet id="201711171732001" author="liang.liu">
        <addUniqueConstraint tableName="bgt_items_mapping" columnNames="budget_organization_id,source_type,source_item_id" constraintName="source_org_id"/>
    </changeSet>
    <changeSet id="201711211503001" author="liang.liu">
        <modifyDataType tableName="bgt_journal_line" columnName="employee_id" newDataType="bigint"/>
    </changeSet>
    <changeSet id="201711211512001" author="baochao.chen">
        <dropColumn tableName="bgt_item" columnName="variation_attribute"/>
    </changeSet>

    <changeSet id="201711231752001" author="xue.han">
        <dropNotNullConstraint tableName="bgt_structure" columnName="description" columnDataType="varchar(2000)"/>
    </changeSet>

    <changeSet id="201711271048001" author="xue.han">
        <addColumn tableName="bgt_journal_type">
            <column name="form_oid" type="varchar(200)" remarks="表单oid">
                <constraints nullable="false"/>
            </column>
            <column name="form_name" type="varchar(200)" remarks="表单名称">
                <constraints nullable="false"/>
            </column>
            <column name="form_type" type="varchar(30)" remarks="表单类型">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201711271700001" author="xue.han">
        <dropColumn tableName="bgt_journal_type" columnName="form_type"/>

        <addColumn tableName="bgt_journal_type">
            <column name="form_type" type="bigint" remarks="表单类型">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201711281619001" author="xue.han">
        <dropNotNullConstraint tableName="bgt_journal_type" columnName="form_oid" columnDataType="varchar(200)"/>
        <dropNotNullConstraint tableName="bgt_journal_type" columnName="form_name" columnDataType="varchar(200)"/>
        <dropNotNullConstraint tableName="bgt_journal_type" columnName="form_type" columnDataType="bigint"/>
    </changeSet>

    <changeSet id="201711281442001" author="dong.liu">
        <dropTable tableName="bgt_version_assign_company"/>
    </changeSet>

    <changeSet id="201712011527001" author="baochao.chen">
        <createTable tableName="bgt_reserve_adjust_import">
            <column name="id" type="bigint">
                <constraints primaryKey="true"
                             nullable="false"
                             primaryKeyName="idx_bgt_reserve_adjust_import"/>
            </column>
            <column name="line_number" type="int" remarks="序号">
                <constraints nullable="false"/>
            </column>
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
            <column name="period_name" type="varchar(30)" remarks="期间">
                <constraints nullable="false"/>
            </column>
            <column name="currency" type="varchar(30)" remarks="币种">
                <constraints nullable="false"/>
            </column>
            <column name="exchange_rate" type="double" remarks="汇率">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="double" remarks="金额">
                <constraints nullable="false"/>
            </column>
            <column name="functional_amount" type="double" remarks="本币金额">
                <constraints nullable="false"/>
            </column>
            <column name="quantity" type="int" remarks="数量">
                <constraints nullable="false"/>
            </column>
            <column name="item_code" type="varchar(50)" remarks="预算项目代码">
                <constraints nullable="false"/>
            </column>
            <column name="unit_code" type="varchar(50)" remarks="部门代码">
            </column>
            <column name="dimension1_code" type="varchar(50)" remarks="成本中心1代码"/>
            <column name="dimension2_code" type="varchar(50)" remarks="成本中心2代码"/>
            <column name="dimension3_code" type="varchar(50)" remarks="成本中心3代码"/>
            <column name="dimension4_code" type="varchar(50)" remarks="成本中心4代码"/>
            <column name="dimension5_code" type="varchar(50)" remarks="成本中心5代码"/>
            <column name="dimension6_code" type="varchar(50)" remarks="成本中心6代码"/>
            <column name="dimension7_code" type="varchar(50)" remarks="成本中心7代码"/>
            <column name="dimension8_code" type="varchar(50)" remarks="成本中心8代码"/>
            <column name="dimension9_code" type="varchar(50)" remarks="成本中心9代码"/>
            <column name="dimension10_code" type="varchar(50)" remarks="成本中心10代码"/>
            <column name="dimension11_code" type="varchar(50)" remarks="成本中心11代码"/>
            <column name="dimension12_code" type="varchar(50)" remarks="成本中心12代码"/>
            <column name="dimension13_code" type="varchar(50)" remarks="成本中心13代码"/>
            <column name="dimension14_code" type="varchar(50)" remarks="成本中心14代码"/>
            <column name="dimension15_code" type="varchar(50)" remarks="成本中心15代码"/>
            <column name="dimension16_code" type="varchar(50)" remarks="成本中心16代码"/>
            <column name="dimension17_code" type="varchar(50)" remarks="成本中心17代码"/>
            <column name="dimension18_code" type="varchar(50)" remarks="成本中心18代码"/>
            <column name="dimension19_code" type="varchar(50)" remarks="成本中心19代码"/>
            <column name="dimension20_code" type="varchar(50)" remarks="成本中心20代码"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="bgt_reserve_adjust">
            <column name="id" type="bigint">
                <constraints nullable="false"
                             primaryKey="true"
                             primaryKeyName="idx_bgt_reserve_adjust"/>
            </column>
            <column name="batch_number" type="varchar(30)" remarks="批次号">
                <constraints nullable="false"/>
            </column>
            <column name="line_number" type="int" remarks="序号">
                <constraints nullable="false"/>
            </column>
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
            <column name="organization_code" type="varchar(50)" remarks="预算组织代码">
                <constraints nullable="false"/>
            </column>
            <column name="period_name" type="varchar(30)" remarks="期间">
                <constraints nullable="false"/>
            </column>
            <column name="business_type" type="varchar(30)" remarks="来源类型">
                <constraints nullable="false"/>
            </column>
            <column name="reserve_flag" type="varchar(2)" remarks="占用标志">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="varchar(2)" remarks="状态">
                <constraints nullable="false"/>
            </column>
            <column name="manual_flag" type="varchar(2)" remarks="手工标识">
                <constraints nullable="false"/>
            </column>
            <column name="currency" type="varchar(30)" remarks="币种">
                <constraints nullable="false"/>
            </column>
            <column name="exchange_rate" type="double" remarks="汇率">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="double" remarks="金额">
                <constraints nullable="false"/>
            </column>
            <column name="functional_amount" type="double" remarks="本位币金额">
                <constraints nullable="false"/>
            </column>
            <column name="quantity" type="int" remarks="数量">
                <constraints nullable="false"/>
            </column>
            <column name="item_code" type="varchar(50)" remarks="预算项目代码">
                <constraints nullable="false"/>
            </column>
            <column name="unit_code" type="varchar(50)" remarks="部门代码">
            </column>
            <column name="dimension1_code" type="varchar(50)" remarks="成本中心1代码"/>
            <column name="dimension2_code" type="varchar(50)" remarks="成本中心2代码"/>
            <column name="dimension3_code" type="varchar(50)" remarks="成本中心3代码"/>
            <column name="dimension4_code" type="varchar(50)" remarks="成本中心4代码"/>
            <column name="dimension5_code" type="varchar(50)" remarks="成本中心5代码"/>
            <column name="dimension6_code" type="varchar(50)" remarks="成本中心6代码"/>
            <column name="dimension7_code" type="varchar(50)" remarks="成本中心7代码"/>
            <column name="dimension8_code" type="varchar(50)" remarks="成本中心8代码"/>
            <column name="dimension9_code" type="varchar(50)" remarks="成本中心9代码"/>
            <column name="dimension10_code" type="varchar(50)" remarks="成本中心10代码"/>
            <column name="dimension11_code" type="varchar(50)" remarks="成本中心11代码"/>
            <column name="dimension12_code" type="varchar(50)" remarks="成本中心12代码"/>
            <column name="dimension13_code" type="varchar(50)" remarks="成本中心13代码"/>
            <column name="dimension14_code" type="varchar(50)" remarks="成本中心14代码"/>
            <column name="dimension15_code" type="varchar(50)" remarks="成本中心15代码"/>
            <column name="dimension16_code" type="varchar(50)" remarks="成本中心16代码"/>
            <column name="dimension17_code" type="varchar(50)" remarks="成本中心17代码"/>
            <column name="dimension18_code" type="varchar(50)" remarks="成本中心18代码"/>
            <column name="dimension19_code" type="varchar(50)" remarks="成本中心19代码"/>
            <column name="dimension20_code" type="varchar(50)" remarks="成本中心20代码"/>

            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

    </changeSet>

    <changeSet id="201712011836001" author="baochao.chen">
        <addColumn tableName="bgt_reserve_adjust_import">
            <column name="remark" type="varchar(2000)" remarks="导入说明"></column>
        </addColumn>
        <addColumn tableName="bgt_reserve_adjust">
            <column name="remark" type="varchar(2000)" remarks="说明"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201712041509001" author="baochao.chen">
        <dropUniqueConstraint tableName="bgt_item_type" constraintName="idx_uq_item_type_code"/>
        <addUniqueConstraint tableName="bgt_item_type" columnNames="organization_id,item_type_code" constraintName="id_unq_org_id_item_type"/>
        <addUniqueConstraint tableName="bgt_scenario" columnNames="organization_id,scenario_code" constraintName="id_unq_org_id_scenario"/>
    </changeSet>
    <changeSet id="201712060946001" author="baochao.chen">
        <dropColumn tableName="bgt_reserve_adjust_import" columnName="exchange_rate"/>
        <dropColumn tableName="bgt_reserve_adjust_import" columnName="functional_amount"/>
    </changeSet>

    <changeSet id="201712052026001" author="liang.liu">
        <addColumn tableName="bgt_items_mapping">
            <column name="set_of_books_id" type="bigint" remarks="账套id"/>
        </addColumn>
    </changeSet>

    <changeSet id="201712052026002" author="liang.liu">
        <dropColumn tableName="bgt_items_mapping">
            <column name="set_of_books_id" type="bigint" remarks="账套id"/>
        </dropColumn>
    </changeSet>

    <changeSet id="201712060954001" author="liang.liu">
        <dropColumn tableName="bgt_journal_balance">
            <column name="dimension1_id" type="bigint" remarks="维度1"/>
            <column name="dimension2_id" type="bigint" remarks="维度2"/>
            <column name="dimension3_id" type="bigint" remarks="维度3"/>
            <column name="dimension4_id" type="bigint" remarks="维度4"/>
            <column name="dimension5_id" type="bigint" remarks="维度5"/>
            <column name="dimension6_id" type="bigint" remarks="维度6"/>
            <column name="dimension7_id" type="bigint" remarks="维度7"/>
            <column name="dimension8_id" type="bigint" remarks="维度8"/>
            <column name="dimension9_id" type="bigint" remarks="维度9"/>
            <column name="dimension10_id" type="bigint" remarks="维度10"/>
            <column name="dimension11_id" type="bigint" remarks="维度11"/>
            <column name="dimension12_id" type="bigint" remarks="维度12"/>
            <column name="dimension13_id" type="bigint" remarks="维度13"/>
            <column name="dimension14_id" type="bigint" remarks="维度14"/>
            <column name="dimension15_id" type="bigint" remarks="维度15"/>
            <column name="dimension16_id" type="bigint" remarks="维度16"/>
            <column name="dimension17_id" type="bigint" remarks="维度17"/>
            <column name="dimension18_id" type="bigint" remarks="维度18"/>
            <column name="dimension19_id" type="bigint" remarks="维度19"/>
            <column name="dimension20_id" type="bigint" remarks="维度20"/>
        </dropColumn>
        <addColumn tableName="bgt_journal_balance">
            <column name="dimension1_value_id" type="bigint" remarks="维值1id"/>
            <column name="dimension2_value_id" type="bigint" remarks="维值2id"/>
            <column name="dimension3_value_id" type="bigint" remarks="维值3id"/>
            <column name="dimension4_value_id" type="bigint" remarks="维值4id"/>
            <column name="dimension5_value_id" type="bigint" remarks="维值5id"/>
            <column name="dimension6_value_id" type="bigint" remarks="维值6id"/>
            <column name="dimension7_value_id" type="bigint" remarks="维值7id"/>
            <column name="dimension8_value_id" type="bigint" remarks="维值8id"/>
            <column name="dimension9_value_id" type="bigint" remarks="维值9id"/>
            <column name="dimension10_value_id" type="bigint" remarks="维值10id"/>
            <column name="dimension11_value_id" type="bigint" remarks="维值11id"/>
            <column name="dimension12_value_id" type="bigint" remarks="维值12id"/>
            <column name="dimension13_value_id" type="bigint" remarks="维值13id"/>
            <column name="dimension14_value_id" type="bigint" remarks="维值14id"/>
            <column name="dimension15_value_id" type="bigint" remarks="维值15id"/>
            <column name="dimension16_value_id" type="bigint" remarks="维值16id"/>
            <column name="dimension17_value_id" type="bigint" remarks="维值17id"/>
            <column name="dimension18_value_id" type="bigint" remarks="维值18id"/>
            <column name="dimension19_value_id" type="bigint" remarks="维值19id"/>
            <column name="dimension20_value_id" type="bigint" remarks="维值20id"/>
        </addColumn>
    </changeSet>
    <changeSet id="201712060954002" author="liang.liu">
        <dropColumn tableName="bgt_journal_balance">
            <column name="dimension1_value_id" type="bigint" remarks="维值1id"/>
            <column name="dimension2_value_id" type="bigint" remarks="维值2id"/>
            <column name="dimension3_value_id" type="bigint" remarks="维值3id"/>
            <column name="dimension4_value_id" type="bigint" remarks="维值4id"/>
            <column name="dimension5_value_id" type="bigint" remarks="维值5id"/>
            <column name="dimension6_value_id" type="bigint" remarks="维值6id"/>
            <column name="dimension7_value_id" type="bigint" remarks="维值7id"/>
            <column name="dimension8_value_id" type="bigint" remarks="维值8id"/>
            <column name="dimension9_value_id" type="bigint" remarks="维值9id"/>
            <column name="dimension10_value_id" type="bigint" remarks="维值10id"/>
            <column name="dimension11_value_id" type="bigint" remarks="维值11id"/>
            <column name="dimension12_value_id" type="bigint" remarks="维值12id"/>
            <column name="dimension13_value_id" type="bigint" remarks="维值13id"/>
            <column name="dimension14_value_id" type="bigint" remarks="维值14id"/>
            <column name="dimension15_value_id" type="bigint" remarks="维值15id"/>
            <column name="dimension16_value_id" type="bigint" remarks="维值16id"/>
            <column name="dimension17_value_id" type="bigint" remarks="维值17id"/>
            <column name="dimension18_value_id" type="bigint" remarks="维值18id"/>
            <column name="dimension19_value_id" type="bigint" remarks="维值19id"/>
            <column name="dimension20_value_id" type="bigint" remarks="维值20id"/>
        </dropColumn>
        <addColumn tableName="bgt_journal_balance">
            <column name="dimension1_id" type="bigint" remarks="维度1"/>
            <column name="dimension2_id" type="bigint" remarks="维度2"/>
            <column name="dimension3_id" type="bigint" remarks="维度3"/>
            <column name="dimension4_id" type="bigint" remarks="维度4"/>
            <column name="dimension5_id" type="bigint" remarks="维度5"/>
            <column name="dimension6_id" type="bigint" remarks="维度6"/>
            <column name="dimension7_id" type="bigint" remarks="维度7"/>
            <column name="dimension8_id" type="bigint" remarks="维度8"/>
            <column name="dimension9_id" type="bigint" remarks="维度9"/>
            <column name="dimension10_id" type="bigint" remarks="维度10"/>
            <column name="dimension11_id" type="bigint" remarks="维度11"/>
            <column name="dimension12_id" type="bigint" remarks="维度12"/>
            <column name="dimension13_id" type="bigint" remarks="维度13"/>
            <column name="dimension14_id" type="bigint" remarks="维度14"/>
            <column name="dimension15_id" type="bigint" remarks="维度15"/>
            <column name="dimension16_id" type="bigint" remarks="维度16"/>
            <column name="dimension17_id" type="bigint" remarks="维度17"/>
            <column name="dimension18_id" type="bigint" remarks="维度18"/>
            <column name="dimension19_id" type="bigint" remarks="维度19"/>
            <column name="dimension20_id" type="bigint" remarks="维度20"/>
        </addColumn>
    </changeSet>
    
    <changeSet id="201712161600001" author="baochao.chen">
        <createTable tableName="bgt_reserve_adj_import_info">
            <column name="id" type="bigint">
                <constraints primaryKey="true"
                             nullable="false"
                             primaryKeyName="pk_bgt_reserve_adj_import_info"/>
            </column>
            <column name="batch_number" type="varchar(30)" remarks="批次号">
                <constraints nullable="false"/>
            </column>
            <column name="remark" type="varchar(2000)" remarks="说明">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201712071246001" author="liang.liu">
        <dropNotNullConstraint tableName="bgt_journal_balance" columnName="period_number" columnDataType="int"/>
    </changeSet>
    <changeSet id="201712081031001" author="baochao.chen">
        <addColumn tableName="bgt_reserve_adj_import_info">
            <column name="employee_name" type="varchar(30)" remarks="员工姓名"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201712111308001" author="baochao.chen">
        <dropColumn tableName="bgt_reserve_adjust_import">
            <column name="dimension1_code" type="varchar(50)" remarks="成本中心1代码"/>
            <column name="dimension2_code" type="varchar(50)" remarks="成本中心2代码"/>
            <column name="dimension3_code" type="varchar(50)" remarks="成本中心3代码"/>
            <column name="dimension4_code" type="varchar(50)" remarks="成本中心4代码"/>
            <column name="dimension5_code" type="varchar(50)" remarks="成本中心5代码"/>
            <column name="dimension6_code" type="varchar(50)" remarks="成本中心6代码"/>
            <column name="dimension7_code" type="varchar(50)" remarks="成本中心7代码"/>
            <column name="dimension8_code" type="varchar(50)" remarks="成本中心8代码"/>
            <column name="dimension9_code" type="varchar(50)" remarks="成本中心9代码"/>
            <column name="dimension10_code" type="varchar(50)" remarks="成本中心10代码"/>
            <column name="dimension11_code" type="varchar(50)" remarks="成本中心11代码"/>
            <column name="dimension12_code" type="varchar(50)" remarks="成本中心12代码"/>
            <column name="dimension13_code" type="varchar(50)" remarks="成本中心13代码"/>
            <column name="dimension14_code" type="varchar(50)" remarks="成本中心14代码"/>
            <column name="dimension15_code" type="varchar(50)" remarks="成本中心15代码"/>
            <column name="dimension16_code" type="varchar(50)" remarks="成本中心16代码"/>
            <column name="dimension17_code" type="varchar(50)" remarks="成本中心17代码"/>
            <column name="dimension18_code" type="varchar(50)" remarks="成本中心18代码"/>
            <column name="dimension19_code" type="varchar(50)" remarks="成本中心19代码"/>
            <column name="dimension20_code" type="varchar(50)" remarks="成本中心20代码"/>
        </dropColumn>
        <addColumn tableName="bgt_reserve_adjust_import">
            <column name="cost_center_item_code" type="varchar(50)"></column>
            <column name="cost_center_product_code" type="varchar(50)"></column>
            <column name="cost_center_channel_code" type="varchar(50)"></column>
            <column name="cost_center_team_code" type="varchar(50)"></column>
        </addColumn>
        <dropColumn tableName="bgt_reserve_adjust">
            <column name="dimension1_code" type="varchar(50)" remarks="成本中心1代码"/>
            <column name="dimension2_code" type="varchar(50)" remarks="成本中心2代码"/>
            <column name="dimension3_code" type="varchar(50)" remarks="成本中心3代码"/>
            <column name="dimension4_code" type="varchar(50)" remarks="成本中心4代码"/>
            <column name="dimension5_code" type="varchar(50)" remarks="成本中心5代码"/>
            <column name="dimension6_code" type="varchar(50)" remarks="成本中心6代码"/>
            <column name="dimension7_code" type="varchar(50)" remarks="成本中心7代码"/>
            <column name="dimension8_code" type="varchar(50)" remarks="成本中心8代码"/>
            <column name="dimension9_code" type="varchar(50)" remarks="成本中心9代码"/>
            <column name="dimension10_code" type="varchar(50)" remarks="成本中心10代码"/>
            <column name="dimension11_code" type="varchar(50)" remarks="成本中心11代码"/>
            <column name="dimension12_code" type="varchar(50)" remarks="成本中心12代码"/>
            <column name="dimension13_code" type="varchar(50)" remarks="成本中心13代码"/>
            <column name="dimension14_code" type="varchar(50)" remarks="成本中心14代码"/>
            <column name="dimension15_code" type="varchar(50)" remarks="成本中心15代码"/>
            <column name="dimension16_code" type="varchar(50)" remarks="成本中心16代码"/>
            <column name="dimension17_code" type="varchar(50)" remarks="成本中心17代码"/>
            <column name="dimension18_code" type="varchar(50)" remarks="成本中心18代码"/>
            <column name="dimension19_code" type="varchar(50)" remarks="成本中心19代码"/>
            <column name="dimension20_code" type="varchar(50)" remarks="成本中心20代码"/>
        </dropColumn>
        <addColumn tableName="bgt_reserve_adjust">
            <column name="cost_center_item_code" type="varchar(50)"></column>
            <column name="cost_center_product_code" type="varchar(50)"></column>
            <column name="cost_center_channel_code" type="varchar(50)"></column>
            <column name="cost_center_team_code" type="varchar(50)"></column>
        </addColumn>
    </changeSet>
    <changeSet id="20171527001" author="liang.liu">
        <createTable tableName="bgt_journal_line_balance">
            <column name="id" type="bigint" remarks="id">
                <constraints primaryKey="true"/>
            </column>
            <column name="journal_line_id" type="bigint" remarks="日记账行id">
                <constraints nullable="false"/>
            </column>
            <column name="balance_id" type="bigint" remarks="余额表id">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="201712191915001" author="xue.han">
        <addColumn tableName="bgt_journal_t_ass_company">
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
        </addColumn>

        <addColumn tableName="bgt_structure_assign_company">
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
        </addColumn>

    </changeSet>
    <changeSet id="201712191637001" author="kai.zhang">
        <createIndex tableName="bgt_reserve" indexName="bgt_reserve_n1">
            <column name="company_id"></column>
            <column name="item_id"></column>
        </createIndex>
        <createIndex tableName="bgt_reserve" indexName="bgt_reserve_n2">
            <column name="business_type"></column>
            <column name="document_id"></column>
            <column name="document_line_id"></column>
        </createIndex>
        <createIndex tableName="bgt_reserve" indexName="bgt_reserve_n3">
            <column name="organization_id"></column>
            <column name="status"></column>
            <column name="company_id"></column>
            <column name="period_name"></column>
            <column name="item_id"></column>
        </createIndex>
        <createIndex tableName="bgt_reserve" indexName="bgt_reserve_n4">
            <column name="period_year"></column>
        </createIndex>
    </changeSet>
    <changeSet id="201712211951001" author="baochao.chen">
        <addColumn tableName="bgt_item_group">
            <column name="item_code" type="varchar(50)"></column>
        </addColumn>
    </changeSet>

    <changeSet id="201712211956001" author="xue.han">
        <addColumn tableName="bgt_journal_t_ass_str">
            <column name="structure_code" type="varchar(50)" remarks="预算表代码">
                <constraints nullable="false"/>
            </column>
        </addColumn>

        <addColumn tableName="bgt_journal_t_ass_item">
            <column name="item_code" type="varchar(50)" remarks="预算项目代码">
                <constraints nullable="false"/>
            </column>
        </addColumn>

    </changeSet>
    <changeSet id="201712221700001" author="baochao.chen">
        <addColumn tableName="bgt_item_assign_company">
            <column name="company_code" type="varchar(50)"></column>
        </addColumn>
        <dropNotNullConstraint tableName="bgt_journal_t_ass_company" columnName="company_code" columnDataType="varchar(50)"/>
        <dropNotNullConstraint tableName="bgt_structure_assign_company" columnName="company_code" columnDataType="varchar(50)"/>
    </changeSet>


    <changeSet id="201712251028001" author="liang.liu">
        <dropColumn tableName="bgt_journal_header" columnName="document_type"/>
        <addColumn tableName="bgt_journal_header">
            <column name="document_type" type="int" remarks="单据类型" defaultValue="801002"/>
        </addColumn>
    </changeSet>


    <changeSet id="201712260950001" author="baochao.chen">
        <addColumn tableName="bgt_item_group_detail">
            <column name="item_code" type="varchar(50)"></column>
        </addColumn>
        <dropColumn tableName="bgt_item_group">
            <column name="item_code" type="varchar(50)"></column>
        </dropColumn>
    </changeSet>
    <changeSet id="201802011145001" author="baochao.chen">
        <addColumn tableName="bgt_reserve_adj_import_info">
            <column name="employee_id" type="varchar(50)" remarks="员工工号"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201804021755001" author="zhiyu.liu">
        <addColumn tableName="bgt_journal_header">
            <column name="submit_date" type="timestamp" remarks="提交日期" />
        </addColumn>
    </changeSet>
    <changeSet id="201804171423001" author="liang.liu">
        <createTable tableName="bgt_out_journal_header" remarks="日记账对外接口头表">
            <column name="id" type="bigint" remarks="id">
                <constraints primaryKey="true"/>
            </column>
            <column name="tenant_id" type="bigint" remarks="租户id">
                <constraints nullable="false"/>
            </column>
            <column name="employee_code" type="varchar(50)" remarks="员工工号"/>
            <column name="employee_id" type="bigint" remarks="员工id"/>
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司id">
                <constraints nullable="false"/>
            </column>
            <column name="department_code" type="varchar(50)" remarks="部门代码">
                <constraints nullable="false"/>
            </column>
            <column name="department_id" type="bigint" remarks="部门id">
                <constraints nullable="false"/>
            </column>
            <column name="journal_type_code" type="varchar(50)" remarks="预算日记账类型代码">
                <constraints nullable="false"/>
            </column>
            <column name="journal_type_id" type="bigint" remarks="预算日记账类型id">
                <constraints nullable="false"/>
            </column>
            <column name="structure_code" type="varchar(50)" remarks="预算表代码"/>
            <column name="structure_id" type="bigint" remarks="预算表id"/>
            <column name="version_code" type="varchar(50)" remarks="预算版本代码"/>
            <column name="version_id" type="bigint" remarks="预算版本id"/>
            <column name="scenario_code" type="varchar(50)" remarks="预算场景代码"/>
            <column name="scenario_id" type="bigint" remarks="预算场景id"/>
            <column name="batch_number" type="varchar(50)" remarks="批次号">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="varchar(500)" remarks="头备注"/>
            <column name="approval_flag" type="varchar(10)" remarks="自动审核标志" defaultValue="Y" >
                <constraints nullable="false"/>
            </column>
            <column name="language" type="varchar(50)" remarks="语言" defaultValue="zh"></column>
            <column name="approved_code" type="varchar(50)" remarks="复核人"/>
            <column name="approved_id" type="bigint" remarks="复核人id"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <createTable tableName="bgt_out_journal_line" remarks="日记账对外接口行表">
            <column name="id" type="bigint" remarks="id">
                <constraints primaryKey="true"/>
            </column>
            <column name="line_number" type="varchar(50)" remarks="行号">
                <constraints  nullable="false"/>
            </column>
            <column name="company_code" type="varchar(50)" remarks="公司代码">
                <constraints nullable="false"/>
            </column>
            <column name="company_id" type="bigint" remarks="公司id">
                <constraints nullable="false"/>
            </column>
            <column name="department_code" type="varchar(50)" remarks="部门代码"/>
            <column name="department_id" type="bigint" remarks="部门id"/>
            <column name="employee_code" type="varchar(50)" remarks="员工工号"/>
            <column name="employee_id" type="bigint" remarks="员工id"/>
            <column name="item_code" type="varchar(50)" remarks="预算项目代码">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目id">
                <constraints nullable="false"/>
            </column>
            <column name="period_time" type="timestamp" remarks="期间时间">
                <constraints nullable="false"/>
            </column>
            <column name="currency" type="varchar(30)" remarks="币种">
                <constraints nullable="false"/>
            </column>
            <column name="rate" type="double" remarks="汇率">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="double" remarks="金额">
                <constraints nullable="false"/>
            </column>
            <column name="functional_amount" type="double" remarks="本位币金额">
                <constraints nullable="false"/>
            </column>
            <column name="quantity" type="bigint" remarks="数量"/>
            <column name="remark" type="varchar(200)" remarks="行备注"/>
            <column name="dimension1_code" type="varchar(50)" remarks="维度1代码"/>
            <column name="dimension2_code" type="varchar(50)" remarks="维度2代码"/>
            <column name="dimension3_code" type="varchar(50)" remarks="维度3代码"/>
            <column name="dimension4_code" type="varchar(50)" remarks="维度4代码"/>
            <column name="dimension5_code" type="varchar(50)" remarks="维度5代码"/>
            <column name="dimension6_code" type="varchar(50)" remarks="维度6代码"/>
            <column name="dimension7_code" type="varchar(50)" remarks="维度7代码"/>
            <column name="dimension8_code" type="varchar(50)" remarks="维度8代码"/>
            <column name="dimension9_code" type="varchar(50)" remarks="维度9代码"/>
            <column name="dimension10_code" type="varchar(50)" remarks="维度10代码"/>
            <column name="dimension11_code" type="varchar(50)" remarks="维度11代码"/>
            <column name="dimension12_code" type="varchar(50)" remarks="维度12代码"/>
            <column name="dimension13_code" type="varchar(50)" remarks="维度13代码"/>
            <column name="dimension14_code" type="varchar(50)" remarks="维度14代码"/>
            <column name="dimension15_code" type="varchar(50)" remarks="维度15代码"/>
            <column name="dimension16_code" type="varchar(50)" remarks="维度16代码"/>
            <column name="dimension17_code" type="varchar(50)" remarks="维度17代码"/>
            <column name="dimension18_code" type="varchar(50)" remarks="维度18代码"/>
            <column name="dimension19_code" type="varchar(50)" remarks="维度19代码"/>
            <column name="dimension20_code" type="varchar(50)" remarks="维度20代码"/>

            <column name="dimension1_id" type="bigint" remarks="维度1id"/>
            <column name="dimension2_id" type="bigint" remarks="维度2id"/>
            <column name="dimension3_id" type="bigint" remarks="维度3id"/>
            <column name="dimension4_id" type="bigint" remarks="维度4id"/>
            <column name="dimension5_id" type="bigint" remarks="维度5id"/>
            <column name="dimension6_id" type="bigint" remarks="维度6id"/>
            <column name="dimension7_id" type="bigint" remarks="维度7id"/>
            <column name="dimension8_id" type="bigint" remarks="维度8id"/>
            <column name="dimension9_id" type="bigint" remarks="维度9id"/>
            <column name="dimension10_id" type="bigint" remarks="维度10id"/>
            <column name="dimension11_id" type="bigint" remarks="维度11id"/>
            <column name="dimension12_id" type="bigint" remarks="维度12id"/>
            <column name="dimension13_id" type="bigint" remarks="维度13id"/>
            <column name="dimension14_id" type="bigint" remarks="维度14id"/>
            <column name="dimension15_id" type="bigint" remarks="维度15id"/>
            <column name="dimension16_id" type="bigint" remarks="维度16id"/>
            <column name="dimension17_id" type="bigint" remarks="维度17id"/>
            <column name="dimension18_id" type="bigint" remarks="维度18id"/>
            <column name="dimension19_id" type="bigint" remarks="维度19id"/>
            <column name="dimension20_id" type="bigint" remarks="维度20id"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201804181255001" author="liang.liu">
        <addColumn tableName="bgt_out_journal_header">
            <column name="set_of_books_id" type="bigint" remarks="账套id">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201804111706001" author="zhu.zhao">
        <createTable tableName="bgt_parameter_setting" remarks="预算参数设置表">
            <!--<column name="id" type="bigint" remarks="ID">-->
            <!--<constraints nullable="false" primaryKey="true" primaryKeyName="bgt_parameter_setting_pk" />-->
            <!--</column>-->
            <column name="budget_org_id" type="bigint" remarks="预算组织id">
                <constraints nullable="false"/>
            </column>
            <column name="tenant_id" type="bigint" remarks="租户id">
                <constraints nullable="false"/>
            </column>
            <column name="set_of_books_id" type="bigint" remarks="账套id">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_id" type="bigint" remarks="参数id">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_code" type="varchar(100)" remarks="参数代码">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_value_code" type="varchar(100)" remarks="参数代码">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="bgt_parameter" remarks="预算参数表">
            <column name="parameter_id" type="bigint" remarks="参数id">
                <constraints nullable="false" primaryKey="true" primaryKeyName="bgt_parameter_pk" />
            </column>
            <column name="parameter_code" type="varchar(100)" remarks="参数代码">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_name" type="varchar(100)" remarks="参数名称">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <createTable tableName="bgt_parameter_values" remarks="预算参数值表">
            <column name="parameter_value_id" type="bigint" remarks="参数值id">
                <constraints nullable="false" primaryKey="true" primaryKeyName="bgt_parameter_values_pk" />
            </column>
            <column name="parameter_value_code" type="varchar(100)" remarks="参数值code">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_value_name" type="varchar(100)" remarks="参数值名称">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_id" type="bigint" remarks="参数id">
                <constraints nullable="false"/>
            </column>
            <column name="parameter_code" type="varchar(100)" remarks="参数代码">
                <constraints nullable="false"/>
            </column>

            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201804111830001" author="zhu.zhao">
        <addColumn tableName="bgt_parameter_values">
            <column name="paramete_default_value" type="boolean" remarks="是否默认参数值">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="201804111830002" author="zhu.zhao">
        <addColumn tableName="bgt_parameter_setting">
            <column name="id" type="bigint" remarks="ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="bgt_parameter_setting_pk" />
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201804111830003" author="zhu.zhao">
        <addColumn tableName="bgt_parameter_setting">
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201804111830004" author="zhu.zhao">
        <renameColumn tableName="bgt_parameter" oldColumnName="parameter_id" newColumnName="id" columnDataType="bigint"></renameColumn>
        <addColumn tableName="bgt_parameter">
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201804111830005" author="zhu.zhao">
        <renameColumn tableName="bgt_parameter_values" oldColumnName="parameter_value_id" newColumnName="id" columnDataType="bigint"></renameColumn>
        <addColumn tableName="bgt_parameter_values">
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201804281145001" author="kai.zhang">
        <addColumn tableName="bgt_balance_query_header">
            <column name="solution_header_id" type="bigint" remarks="分权限方案头ID"></column>
        </addColumn>
    </changeSet>
    <changeSet id="201805041156001" author="zhu.zhao">
        <sqlFile path="classpath:db/liquibase/parameterSetting.sql" encoding="utf-8"/>
    </changeSet>
    <changeSet id="201805141511001" author="liang.liu">
       <dropColumn tableName="bgt_out_journal_line">
           <column name="period_time" type="timestamp"/>
       </dropColumn>
        <addColumn tableName="bgt_out_journal_line">
            <column name="budget_period_time" type="varchar(20)" remarks="预算期间"/>
        </addColumn>
    </changeSet>
    <changeSet id="201805171624001" author="liang.liu">
        <addColumn tableName="bgt_out_journal_line">
            <column name="dimension1_value_id" type="bigint" remarks="维值1id"/>
            <column name="dimension2_value_id" type="bigint" remarks="维值2id"/>
            <column name="dimension3_value_id" type="bigint" remarks="维值3id"/>
            <column name="dimension4_value_id" type="bigint" remarks="维值4id"/>
            <column name="dimension5_value_id" type="bigint" remarks="维值5id"/>
            <column name="dimension6_value_id" type="bigint" remarks="维值6id"/>
            <column name="dimension7_value_id" type="bigint" remarks="维值7id"/>
            <column name="dimension8_value_id" type="bigint" remarks="维值8id"/>
            <column name="dimension9_value_id" type="bigint" remarks="维值9id"/>
            <column name="dimension10_value_id" type="bigint" remarks="维值10id"/>
            <column name="dimension11_value_id" type="bigint" remarks="维值11id"/>
            <column name="dimension12_value_id" type="bigint" remarks="维值12id"/>
            <column name="dimension13_value_id" type="bigint" remarks="维值13id"/>
            <column name="dimension14_value_id" type="bigint" remarks="维值14id"/>
            <column name="dimension15_value_id" type="bigint" remarks="维值15id"/>
            <column name="dimension16_value_id" type="bigint" remarks="维值16id"/>
            <column name="dimension17_value_id" type="bigint" remarks="维值17id"/>
            <column name="dimension18_value_id" type="bigint" remarks="维值18id"/>
            <column name="dimension19_value_id" type="bigint" remarks="维值19id"/>
            <column name="dimension20_value_id" type="bigint" remarks="维值20id"/>
        </addColumn>
    </changeSet>

    <changeSet id="kai.zhang" author="201805281647001">
        <dropTable tableName="bgt_item_hierarchy"></dropTable>
    </changeSet>

    <changeSet id="201806061135001" author="kai.zhang">
        <dropUniqueConstraint tableName="bgt_balance_query_header" constraintName="bgt_balance_query_header_u1"/>
    </changeSet>

    <!--<changeSet id="201806081456001" author="liang.liu">-->
        <!--<sqlFile path="classpath:db/liquibase/updateBudgetJournal.sql" encoding="utf-8"/>-->
    <!--</changeSet>-->
    <changeSet id="201806291533001" author="baochao.chen">
        <createTable tableName="bgt_journal_line_import" remarks="预算日记账行导入临时表">
            <column name="id" type="bigint" remarks="预算日记账行导入临时表ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_bgt_journal_lines_import_id"/>
            </column>
            <column name="journal_header_id" type="bigint" remarks="预算日记账头ID">
                <constraints nullable="false"/>
            </column>
            <column name="item_id" type="bigint" remarks="预算项目ID">
                <constraints nullable="false"/>
            </column>
            <column name="currency" type="varchar(30)" remarks="币种"/>
            <column name="period_year" type="int" remarks="年度"/>
            <column name="period_quarter" type="int" remarks="季度"/>
            <column name="period_name" type="varchar(30)" remarks="期间"/>
            <column name="rate_type" type="varchar(30)" remarks="汇率类型"/>
            <column name="rate_quotation" type="varchar(30)" remarks="标价方法"/>
            <column name="rate" type="double" remarks="汇率"/>
            <column name="amount" type="double" remarks="金额"/>
            <column name="functional_amount" type="double" remarks="本币金额"/>
            <column name="quantity" type="bigint" remarks="数量"/>
            <column name="unit" type="varchar(30)" remarks="单位"/>
            <column name="company_id" type="bigint" remarks="公司ID"/>
            <column name="operation_unit_id" type="bigint" remarks="经营单位ID"/>
            <column name="unit_id" type="bigint" remarks="部门ID"/>
            <column name="employee_id" type="bigint" remarks="员工ID"/>
            <column name="remark" type="varchar(2000)" remarks="行备注"/>
            <column name="dimension1_id" type="bigint" remarks="维度1"/>
            <column name="dimension2_id" type="bigint" remarks="维度2"/>
            <column name="dimension3_id" type="bigint" remarks="维度3"/>
            <column name="dimension4_id" type="bigint" remarks="维度4"/>
            <column name="dimension5_id" type="bigint" remarks="维度5"/>
            <column name="dimension6_id" type="bigint" remarks="维度6"/>
            <column name="dimension7_id" type="bigint" remarks="维度7"/>
            <column name="dimension8_id" type="bigint" remarks="维度8"/>
            <column name="dimension9_id" type="bigint" remarks="维度9"/>
            <column name="dimension10_id" type="bigint" remarks="维度10"/>
            <column name="dimension11_id" type="bigint" remarks="维度11"/>
            <column name="dimension12_id" type="bigint" remarks="维度12"/>
            <column name="dimension13_id" type="bigint" remarks="维度13"/>
            <column name="dimension14_id" type="bigint" remarks="维度14"/>
            <column name="dimension15_id" type="bigint" remarks="维度15"/>
            <column name="dimension16_id" type="bigint" remarks="维度16"/>
            <column name="dimension17_id" type="bigint" remarks="维度17"/>
            <column name="dimension18_id" type="bigint" remarks="维度18"/>
            <column name="dimension19_id" type="bigint" remarks="维度19"/>
            <column name="dimension20_id" type="bigint" remarks="维度20"/>
            <column name="dimension1_value_id" type="bigint" remarks="维值1id"/>
            <column name="dimension2_value_id" type="bigint" remarks="维值2id"/>
            <column name="dimension3_value_id" type="bigint" remarks="维值3id"/>
            <column name="dimension4_value_id" type="bigint" remarks="维值4id"/>
            <column name="dimension5_value_id" type="bigint" remarks="维值5id"/>
            <column name="dimension6_value_id" type="bigint" remarks="维值6id"/>
            <column name="dimension7_value_id" type="bigint" remarks="维值7id"/>
            <column name="dimension8_value_id" type="bigint" remarks="维值8id"/>
            <column name="dimension9_value_id" type="bigint" remarks="维值9id"/>
            <column name="dimension10_value_id" type="bigint" remarks="维值10id"/>
            <column name="dimension11_value_id" type="bigint" remarks="维值11id"/>
            <column name="dimension12_value_id" type="bigint" remarks="维值12id"/>
            <column name="dimension13_value_id" type="bigint" remarks="维值13id"/>
            <column name="dimension14_value_id" type="bigint" remarks="维值14id"/>
            <column name="dimension15_value_id" type="bigint" remarks="维值15id"/>
            <column name="dimension16_value_id" type="bigint" remarks="维值16id"/>
            <column name="dimension17_value_id" type="bigint" remarks="维值17id"/>
            <column name="dimension18_value_id" type="bigint" remarks="维值18id"/>
            <column name="dimension19_value_id" type="bigint" remarks="维值19id"/>
            <column name="dimension20_value_id" type="bigint" remarks="维值20id"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="batch_number_no" type="varchar(50)" remarks="导入批次号">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201807161603001" author="kai.zhang">
        <comment>修复季度数据</comment>
        <sql>
            update bgt_journal_line t set t.period_quarter = null where t.period_quarter = 0;
        </sql>
    </changeSet>

    <changeSet id="201807241634001" author="kai.zhang">
        <sqlFile path="classpath:db/liquibase/parameterSetting_20180724.sql" encoding="utf-8"/>
    </changeSet>

    <changeSet id="201809101738001" author="kai.zhang">
        <addColumn tableName="bgt_solution_header">
            <column name="enabled" type="boolean" remarks="启用标志">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201809181557001" author="kai.zhang">
        <renameColumn tableName="bgt_journal_t_ass_str" oldColumnName="is_default" newColumnName="default_flag"/>
    </changeSet>

    <changeSet id="201809251807001" author="kai.zhang">
        <dropColumn tableName="bgt_journal_type">
            <column name="form_name" type="varchar(200)" remarks="表单名称">
                <constraints nullable="false"/>
            </column>
            <column name="form_type" type="varchar(30)" remarks="表单类型">
                <constraints nullable="false"/>
            </column>
        </dropColumn>
    </changeSet>

    <changeSet id="201809261144001" author="kai.zhang">
        <dropNotNullConstraint tableName="bgt_scenario" columnName="description"/>
    </changeSet>

    <changeSet id="201810221006001" author="kai.zhang">
        <comment>所有金额字段统一采用decimal存储</comment>
        <modifyDataType tableName="bgt_journal_line" columnName="amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_line" columnName="functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="period_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="period_functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="quarter_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="quarter_functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="year_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_balance" columnName="year_functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_reserve" columnName="amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_reserve" columnName="functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="bgt_budget_function_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="bgt_reverse_function_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="bgt_reverse_function_amount_r" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="bgt_reverse_function_amount_u" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="available_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_check_log" columnName="available_quantity" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_reserve_adjust_import" columnName="amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_reserve_adjust" columnName="amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_reserve_adjust" columnName="functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_out_journal_line" columnName="amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_out_journal_line" columnName="functional_amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_line_import" columnName="amount" newDataType="${amount}"/>
        <modifyDataType tableName="bgt_journal_line_import" columnName="functional_amount" newDataType="${amount}"/>
    </changeSet>

    <changeSet id="201810221624001" author="yuan.liu">
        <addColumn tableName="bgt_control_strategy_dtl">
            <column name="enabled" type="boolean" remarks="启用标志" defaultValue="1">
            </column>
        </addColumn>
    </changeSet>

    <changeSet id="201810221624002" author="yuan.liu">
        <addNotNullConstraint tableName="bgt_control_strategy_dtl"
                              columnName="enabled"
                              constraintName="bgt_control_strategy_dtl_u1"/>
    </changeSet>

    <changeSet id="201810311704001" author="bin.xie">
        <comment>增加预算项目映射导入临时表</comment>
        <createTable tableName="bgt_item_mapping_import_temp" remarks="预算项目映射导入临时表">
            <column name="id" type="bigint">
                <constraints primaryKey="true" primaryKeyName="bgt_item_map_temp_pk"  nullable="false"/>
            </column>
            <column name="source_type" type="varchar(100)" remarks="来源类型"/>
            <column name="source_item_code" type="varchar(100)" remarks="来源项目类型代码"/>
            <column name="source_item_id" type="bigint" remarks="来源项目ID"/>
            <column name="budget_item_code" type="varchar(100)" remarks="预算项目代码"/>
            <column name="budget_item_id" type="bigint" remarks="预算项目ID"/>
            <column name="row_number" type="bigint" remarks="行号"/>
            <column name="error_detail" type="varchar(4000)" remarks="错误信息"/>
            <column name="error_flag" type="boolean" remarks="错误标识"/>
            <column name="batch_number" type="varchar(36)" remarks="批次号"/>
            <column name="budget_organization_id" type="bigint" remarks="预算组织ID"/>
            <column name="created_date" type="timestamp" remarks="创建日期" defaultValue="${now}">
                <constraints nullable="false"/>
            </column>

        </createTable>
    </changeSet>

    <changeSet id="201811211136001" author="kai.zhang">
        <dropTable tableName="bgt_item_mapping_import_temp"/>
        <comment>增加预算项目映射导入临时表</comment>
        <createTable tableName="bgt_item_mapping_import_temp" remarks="预算项目映射导入临时表">
            <column name="id" type="bigint">
                <constraints primaryKey="true" primaryKeyName="bgt_item_map_temp_pk"  nullable="false"/>
            </column>
            <column name="source_type" type="varchar(100)" remarks="来源类型"/>
            <column name="source_item_code" type="varchar(100)" remarks="来源项目类型代码"/>
            <column name="source_item_id" type="bigint" remarks="来源项目ID"/>
            <column name="budget_item_code" type="varchar(100)" remarks="预算项目代码"/>
            <column name="budget_item_id" type="bigint" remarks="预算项目ID"/>
            <column name="row_number" type="varchar(30)" remarks="行号"/>
            <column name="error_detail" type="varchar(4000)" remarks="错误信息"/>
            <column name="error_flag" type="boolean" remarks="错误标识"/>
            <column name="batch_number" type="varchar(36)" remarks="批次号"/>
            <column name="budget_organization_id" type="bigint" remarks="预算组织ID"/>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" remarks="创建日期" defaultValue="${now}">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="201811261451003" author="shouting.cheng">
        <comment>预算日记账行导入临时表去除列的非空约束</comment>
        <dropColumn tableName="bgt_journal_line_import" columnName="journal_header_id"/>
        <dropColumn tableName="bgt_journal_line_import" columnName="item_id"/>
        <addColumn tableName="bgt_journal_line_import">
            <column name="journal_header_id" type="bigint" remarks="预算日记账头ID"/>
            <column name="item_id" type="bigint" remarks="预算项目ID"/>
        </addColumn>
    </changeSet>
    <changeSet id="201811281453001" author="shouting.cheng">
        <comment>预算日记账行导入临时表增加列</comment>
        <addColumn tableName="bgt_journal_line_import">
            <column name="company_code" type="varchar(100)" remarks="公司代码"/>
            <column name="unit_code" type="varchar(100)" remarks="部门代码"/>
            <column name="emp_code" type="varchar(100)" remarks="人员代码"/>
            <column name="item_code" type="varchar(100)" remarks="预算项目代码"/>
            <column name="row_number" type="varchar(30)" remarks="行号"/>
            <column name="error_detail" type="varchar(4000)" remarks="错误信息"/>
            <column name="error_flag" type="boolean" remarks="错误标识"/>
        </addColumn>
    </changeSet>
    <changeSet id="201812031244001" author="shouting.cheng">
        <comment>用于导出错误信息</comment>
        <addColumn tableName="bgt_journal_line_import">
            <column name="amount_str" type="varchar(100)" remarks="金额Str"/>
            <column name="quantity_str" type="varchar(100)" remarks="数量Str"/>
        </addColumn>
    </changeSet>
    <changeSet id="201812031623002" author="houyin.zhang">
        <addColumn tableName="bgt_journal_header">
            <column name="filter_flag" type="boolean" remarks="根据单据驳回重新提交,金额或成本中心等是否变更 确认审批时候需要过滤"/>
            <column name="last_reject_type" type="varchar(10)" remarks="历史驳回类型 RejectTypeEnum 驳回类型: 1000-正常, 1001-撤回, 1002-审批驳回 1003-审核驳回 1004-开票驳回"/>
            <column name="reject_reason" type="varchar(2000)" remarks="驳回原因"/>
            <column name="reject_type" type="varchar(10)" remarks="历史驳回类型 RejectTypeEnum 驳回类型: 1000-正常, 1001-撤回, 1002-审批驳回 1003-审核驳回 1004-开票驳回"/>
        </addColumn>
    </changeSet>

    <changeSet id="201812051635001" author="yuan.liu">
        <comment>增加预算项目导入临时表</comment>
        <createTable tableName="bgt_item_import_temp" remarks="预算项目导入临时表">
            <column name="id" type="bigint">
                <constraints primaryKey="true" primaryKeyName="bgt_item_import_temp_pk"  nullable="false"/>
            </column>
            <column name="organization_id" type="bigint" remarks="预算组织ID"/>
            <column name="item_type_id" type="bigint" remarks="预算项目类型ID"/>
            <column name="item_type_code" type="varchar(200)" remarks="预算项目类型CODE"/>
            <column name="item_code" type="varchar(200)" remarks="预算项目代码"/>
            <column name="item_name" type="varchar(200)" remarks="预算项目名称"/>
            <column name="description" type="varchar(200)" remarks="描述"/>

            <column name="row_number" type="varchar(30)" remarks="行号"/>
            <column name="batch_number" type="varchar(36)" remarks="批次号"/>
            <column name="error_detail" type="varchar(4000)" remarks="错误信息"/>
            <column name="error_flag" type="boolean"  defaultValue="false" remarks="错误标识"/>

            <column name="version_number" type="int" remarks="版本号"/>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期"/>
            <column name="created_by" type="bigint" remarks="创建用户ID"/>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期"/>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID"/>

        </createTable>
    </changeSet>

    <changeSet id="201812260949001" author="yuan.liu">
        <addColumn tableName="bgt_item_import_temp">
            <column name="enabled_str" type="varchar(10)" remarks="启用标志Str"/>
            <column name="enabled" type="boolean" remarks="启用标志" defaultValue="1"/>
        </addColumn>
    </changeSet>
    <changeSet id="201812271000001" author="kai.zhang">
        <renameColumn tableName="bgt_control_rule_detail" oldColumnName="rule_parameter_oid" newColumnName="rule_parameter_id" columnDataType="bigint"/>
    </changeSet>
</databaseChangeLog>
